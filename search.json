[
  {
    "objectID": "exercises/r-wrangling.html",
    "href": "exercises/r-wrangling.html",
    "title": "Importer et manipuler des donn√©es avec ",
    "section": "",
    "text": "Dans ce deuxi√®me TP, nous allons apprendre √† importer et manipuler des donn√©es avec .\nSi vous √™tes int√©ress√©s par Python , une version tr√®s proche de ce TP est disponible dans mon cours de l‚ÄôENSAE.\nDans ce chapitre, nous allons principalement utiliser les packages suivants du tidyverse:\nDans ce tutoriel, nous allons utiliser deux sources de donn√©es :"
  },
  {
    "objectID": "exercises/r-wrangling.html#import-dun-csv-de-lademe",
    "href": "exercises/r-wrangling.html#import-dun-csv-de-lademe",
    "title": "Importer et manipuler des donn√©es avec ",
    "section": "2.1 Import d‚Äôun csv de l‚ÄôAdeme",
    "text": "2.1 Import d‚Äôun csv de l‚ÄôAdeme\nPour commencer, nous allons importer les donn√©es de l‚ÄôAdeme √† l‚Äôaide du package readr[^readcsv].\n\n\n\n\n\n\nExercice 1: lire un csv avec readr et observer les donn√©es\n\n\n\nVoici l‚ÄôURL sur lequel les donn√©es sont disponibles\n\nurl &lt;- \"https://koumoul.com/s/data-fair/api/v1/datasets/igt-pouvoir-de-rechauffement-global/convert\"\n\n\nUtiliser le package readr pour importer ces donn√©es. Nommer cet objet emissions4\nAfficher les premi√®res lignes avec head et observer la diff√©rence d‚Äôaffichage avec, par exemple, ce dataframe:\n\n\nlibrary(readr)\nemissions &lt;- read_csv(url)\n\nRows: 35798 Columns: 12\n‚îÄ‚îÄ Column specification ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\nDelimiter: \",\"\nchr  (2): INSEE commune, Commune\ndbl (10): Agriculture, Autres transports, Autres transports international, C...\n\n‚Ñπ Use `spec()` to retrieve the full column specification for this data.\n‚Ñπ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\n\nAfficher la classe de emissions. Comprenez-vous maintenant pourquoi cet objet est un peu diff√©rent d‚Äôun dataframe de base ?\nUtiliser les fonctions ad√©quates pour les 10 premi√®res valeurs, les 15 derni√®res et un √©chantillon al√©atoire de 10 valeurs gr√¢ce √† la fonction ad√©quate du package dplyr\n\n\n\nEn cas de blocage √† la question 1\n\nLire la documentation de read_csv (tr√®s bien faite) ou chercher des exemples en ligne pour d√©couvrir cette fonction. ‚ö†Ô∏è Ne pas utiliser read.csv (fonction de base) qui n‚Äôest pas performante."
  },
  {
    "objectID": "exercises/r-wrangling.html#premi√®res-manipulations-de-donn√©es",
    "href": "exercises/r-wrangling.html#premi√®res-manipulations-de-donn√©es",
    "title": "Importer et manipuler des donn√©es avec ",
    "section": "2.2 Premi√®res manipulations de donn√©es",
    "text": "2.2 Premi√®res manipulations de donn√©es\nComme c‚Äôest √©voqu√© dans utilitR, les principales fonctions de dplyr (les verbes de la grammaire dplyr) sont les suivants:\n\nselect() : s√©lectionner des variables par leur nom ;\nrename() : renommer des variables ;\nfilter() : s√©lectionner des observations selon une ou plusieurs conditions ;\narrange() : trier la table selon une ou plusieurs variables ;\nmutate() : ajouter des variables qui sont fonction d‚Äôautres variables ;\nsummarise() : calculer une statistique √† partir de donn√©es ;\ngroup_by() : faire des op√©rations par groupe.\n\n\nviewof dplyrVerbs = Inputs.select(['select','rename','filter','mutate'], {value: \"select\"})\n\n\n\n\n\n\n\nhtml`&lt;img src=\"img/${dplyrVerbs}.png\"&lt;/&gt;`\n\n\n\n\n\n\nLa cheatsheet suivante est tr√®s pratique puisqu‚Äôelle illustre ces diff√©rentes fonctions. Il est recommand√© de r√©guli√®rement la consulter (cliquer sur l‚Äôimage pour zoomer üîé) :\n\n\n\n\n\n\n\n\n\n\n\nCheatsheets dplyr\n\n\n\n\n\n\n\n\n\nExercice 2: d√©couverte des verbes de dplyr pour manipuler des donn√©es\n\n\n\nEn premier lieu, on propose de se familiariser avec les op√©rations sur les colonnes.\n\nCr√©er un dataframe emissions_copy ne conservant que les colonnes INSEE commune, Commune, Autres transports et Autres transports international\nComme les noms de variables sont peu pratiques, les renommer de la mani√®re suivante:\n\nINSEE commune \\(\\to\\) code_insee\nAutres transports \\(\\to\\) transports\nAutres transports international \\(\\to\\) transports_international\n\nOn propose, pour simplifier, de remplacer les valeurs manquantes (NA) par la valeur 05. Utiliser la fonction replace_na du package tidyr, en conjonction avec mutate, pour transformer les valeurs manquantes en 0.\nCr√©er dans la m√™me s√©quence de code les variables suivantes:\n\ndep: le d√©partement. Celui-ci peut √™tre cr√©√© gr√¢ce aux deux premiers caract√®res de code_insee avec la fonction str_sub du package stringr6\ntransports_total: les √©missions du secteur transports (somme des deux variables)\n\nOrdonner les donn√©es de mani√®re d√©croissante puis ordonner les donn√©es de mani√®re d√©croissante par d√©partement (du 01 au 95)."
  },
  {
    "objectID": "exercises/r-wrangling.html#import-de-donn√©es-de-linsee",
    "href": "exercises/r-wrangling.html#import-de-donn√©es-de-linsee",
    "title": "Importer et manipuler des donn√©es avec ",
    "section": "2.3 Import de donn√©es de l‚ÄôInsee",
    "text": "2.3 Import de donn√©es de l‚ÄôInsee\nEn ce qui concerne nos informations communales, on va utiliser l‚Äôune des plus sources de l‚ÄôInsee les plus utilis√©es : les donn√©es Filosofi. Afin de faciliter la r√©cup√©ration de celles-ci, nous allons utiliser le package communautaire doremifasol :\n\nlibrary(doremifasol)\nlibrary(tibble)\nfilosofi &lt;- as_tibble(\n  telechargerDonnees(\"FILOSOFI_COM\", date = 2016)\n)\nhead(filosofi)\n\n\n\n# A tibble: 6 √ó 29\n  CODGEO LIBGEO      NBMENFISC16 NBPERSMENFISC16  MED16 PIMP16 TP6016 TP60AGE116\n  &lt;chr&gt;  &lt;chr&gt;             &lt;dbl&gt;           &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;      &lt;dbl&gt;\n1 01001  L'Abergeme‚Ä¶         313            796. 22679      NA     NA         NA\n2 01002  L'Abergeme‚Ä¶         101            248  24382.     NA     NA         NA\n3 01004  Amb√©rieu-e‚Ä¶        6363          14228  19721      49     17         19\n4 01005  Amb√©rieux-‚Ä¶         633           1662. 23378      NA     NA         NA\n5 01006  Ambl√©on              NA             NA     NA      NA     NA         NA\n6 01007  Ambronay           1087           2684  22146.     57     NA         NA\n# ‚Ñπ 21 more variables: TP60AGE216 &lt;dbl&gt;, TP60AGE316 &lt;dbl&gt;, TP60AGE416 &lt;dbl&gt;,\n#   TP60AGE516 &lt;dbl&gt;, TP60AGE616 &lt;dbl&gt;, TP60TOL116 &lt;dbl&gt;, TP60TOL216 &lt;dbl&gt;,\n#   PACT16 &lt;dbl&gt;, PTSA16 &lt;dbl&gt;, PCHO16 &lt;dbl&gt;, PBEN16 &lt;dbl&gt;, PPEN16 &lt;dbl&gt;,\n#   PPAT16 &lt;dbl&gt;, PPSOC16 &lt;dbl&gt;, PPFAM16 &lt;dbl&gt;, PPMINI16 &lt;dbl&gt;, PPLOGT16 &lt;dbl&gt;,\n#   PIMPOT16 &lt;dbl&gt;, D116 &lt;dbl&gt;, D916 &lt;dbl&gt;, RD16 &lt;dbl&gt;\n\n\n\n\n\n\n\n\nNote\n\n\n\nLa fonction as_tibble nous sert √† transformer le dataframe de base (doremifasol ne fait pas d‚Äôa priori sur l‚Äô√©cosyst√®me de manipulation adopt√©) en dataframe adapt√© √† une exploitation via le tidyverse."
  },
  {
    "objectID": "exercises/r-wrangling.html#footnotes",
    "href": "exercises/r-wrangling.html#footnotes",
    "title": "Importer et manipuler des donn√©es avec ",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nreadr offre la possibilit√© d‚Äôimporter des donn√©es directement depuis un url. C‚Äôest l‚Äôoption prise dans ce tutoriel. Si vous pr√©f√®rez, pour des raisons d‚Äôacc√®s au r√©seau ou de performance, importer depuis un poste local, vous pouvez t√©l√©charger les donn√©es et changer les commandes d‚Äôimport avec le chemin ad√©quat plut√¥t que l‚Äôurl.‚Ü©Ô∏é\nIl existe √©galement bioconductor mais celui-ci √©tant surtout orient√© biostatistiques (une des communaut√©s acad√©miques ayant adopt√©  le plus t√¥t), nous ne l‚Äôutilisons pas vraiment‚Ü©Ô∏é\nremotes::install_github signifie d‚Äôutiliser la fonction install_github du package remotes. Autrement dit, il faut un package pour installer d‚Äôautres packages ü§Ø. C‚Äôest parce que Github n‚Äôexistait pas lors de la cr√©ation de  (ann√©es 1990) et que cette fonctionnalit√© n‚Äôa pas √©t√© ajout√© depuis.‚Ü©Ô∏é\nPar manque d‚Äôimagination, on est souvent tent√© d‚Äôappeler notre dataframe principal df ou data. C‚Äôest souvent une mauvaise id√©e puisque ce nom n‚Äôest pas tr√®s informatif quand on relit le code quelques semaines plus tard. L‚Äôautodocumentation, approche qui consiste √† avoir un code qui se comprend de lui-m√™me, est une bonne pratique et il est donc recommand√© de donner un nom simple mais efficace pour conna√Ætre la nature du dataset en question.‚Ü©Ô∏é\nCette hypoth√®se est certainement fausse. Elle est exclusivement l√† pour illustrer la cr√©ation de variables via mutate.‚Ü©Ô∏é\nPour √™tre vraiment pr√©cis, il faudrait modifier les valeurs obtenues pour les d√©partements Corse avec la fonction case_when du package dplyr. Ceci est laiss√© en exercice suppl√©mentaire.‚Ü©Ô∏é\nL‚Äôespace dans le nom de la variable est emb√™tant. Pour pouvoir utiliser le nom de cet variable dans rename, il va falloir utiliser des backticks, c‚Äôest-√†-dire INSEE commune.‚Ü©Ô∏é\nLes fonctionnalit√©s limit√©es du langage de base sur la manipulation textuelle sont rapidement contraignantes. On passe ainsi rapidement √† stringr m√™me si ce n‚Äôest pas l‚Äôobjet principal du chapitre.‚Ü©Ô∏é\nvous pouvez utiliser directement le morceau de code d‚Äôaide si vous n‚Äô√™tes pas familiers de ggplot‚Ü©Ô∏é"
  },
  {
    "objectID": "exercises/ggplot.html",
    "href": "exercises/ggplot.html",
    "title": "Produire des repr√©sentations graphiques avec  et ggplot2",
    "section": "",
    "text": "Dans ce troisi√®me TP, nous allons apprendre √† cr√©er des repr√©sentations graphiques synth√©tiques avec  qui est tr√®s bien outill√© dans le domaine gr√¢ce √† la librairie ggplot2. Cette derni√®re impl√©mente une grammaire des graphiques flexible, coh√©rente et simple d‚Äôusage.\nSi vous √™tes int√©ress√©s par Python , une version tr√®s proche de ce TP est disponible dans mon cours de l‚ÄôENSAE.\nLa pratique de la visualisation se fera, dans ce cours, en r√©pliquant des graphiques qu‚Äôon peut trouver sur la page de l‚Äôopen data de la ville de Paris ici.\nCe TP vise √† initier:\nDans ce chapitre, nous allons utiliser les librairies suivantes:\nlibrary(scales)\nlibrary(readr)\nlibrary(dplyr)\nlibrary(forcats)\nlibrary(lubridate)\nlibrary(ggplot2)\nlibrary(plotly)\nNous verrons par la suite la mani√®re de construire des cartes facilement avec des formats √©quivalents."
  },
  {
    "objectID": "exercises/ggplot.html#donn√©es",
    "href": "exercises/ggplot.html#donn√©es",
    "title": "Produire des repr√©sentations graphiques avec  et ggplot2",
    "section": "1 Donn√©es",
    "text": "1 Donn√©es\nUn sous-ensemble des donn√©es de Paris Open Data a √©t√© mis √† disposition pour faciliter l‚Äôimport. Il s‚Äôagit d‚Äôune extraction, qui commence √† dater, des donn√©es disponibles sur le site o√π seules les colonnes qui servent √† cet exercice ont √©t√© conserv√©es.\nNous proposons de t√©l√©charger ces donn√©es et les enregistrer dans un fichier sur le disque dur local avant de l‚Äôimporter1. Cependant, nous n‚Äôallons pas faire cela manuellement mais nous allons plut√¥t utiliser . Effectuer ce type d‚Äôaction de mani√®re manuelle serait une mauvaise pratique du point de vue de la reproductibilit√©.\n\nurl &lt;- \"https://minio.lab.sspcloud.fr/projet-formation/diffusion/python-datascientist/bike.csv\"\n1download.file(url, \"bike.gz\")\n\n\n1\n\nL‚Äôextension .gz est importante pour la suite car readr en a besoin pour comprendre que le fichier est compress√©."
  },
  {
    "objectID": "exercises/ggplot.html#premi√®res-productions-graphiques",
    "href": "exercises/ggplot.html#premi√®res-productions-graphiques",
    "title": "Produire des repr√©sentations graphiques avec  et ggplot2",
    "section": "2 Premi√®res productions graphiques",
    "text": "2 Premi√®res productions graphiques\nChercher √† produire une visualisation parfaite du premier coup est illusoire. Il est beaucoup plus r√©aliste d‚Äôam√©liorer graduellement une repr√©sentation graphique afin, petit √† petit, de mettre en avant les effets de structure dans un jeu de donn√©es.\nNous allons donc commencer par nous repr√©senter la distribution des passages aux principales stations de mesure. Pour cela nous allons produire rapidement un barplot puis l‚Äôam√©liorer graduellement.\nDans cette partie, nous allons ainsi reproduire les deux premiers graphiques de la page d‚Äôanalyse des donn√©es: Les 10 compteurs avec la moyenne horaire la plus √©lev√©e et Les 10 compteurs ayant comptabilis√©s le plus de v√©los. Les valeurs chiffr√©es des graphiques seront diff√©rentes de celles de la page en ligne, c‚Äôest normal, nous travaillons sur des donn√©es plus anciennes.\n\n\n\n\n\n\nExercice 1 : Importer les donn√©es et produire un premier graphique rapidement\n\n\n\nLes donn√©es comportent plusieurs dimensions pouvant faire l‚Äôobjet d‚Äôune analyse statistique. Il est donc n√©cessaire dans un premier temps de synth√©tiser celles-ci par des agr√©gations afin d‚Äôavoir un graphique lisible.\n\nImporter les donn√©es de compteurs de v√©los depuis le fichier bike.gz ;\nGarder les dix bornes √† la moyenne la plus √©lev√©e ;\n\n\n\nLes 10 principales stations √† l‚Äôissue de la question 2\n\n\n\n# A tibble: 6 √ó 2\n  `Nom du compteur`                    `Comptage horaire`\n  &lt;chr&gt;                                             &lt;dbl&gt;\n1 Totem 73 boulevard de S√©bastopol S-N               197.\n2 Totem 73 boulevard de S√©bastopol N-S               148.\n3 89 boulevard de Magenta NO-SE                      144.\n4 Totem 64 Rue de Rivoli O-E                         140.\n5 102 boulevard de Magenta SE-NO                     137.\n6 72 boulevard Voltaire NO-SE                        124.\n\n\n\nOn va maintenant pouvoir se concentrer sur la production de la repr√©sentation\n\nEn premier lieu, sans se pr√©occuper des √©l√©ments de style ni de la beaut√© du graphique, cr√©er la structure du barplot (diagramme en batons) de la page d‚Äôanalyse des donn√©es:\n\n\n\nFigure obtenue, sans s‚Äôoccuper du style\n\n\n\n\n\n\n\nLa suite de l‚Äôexercice consiste √† am√©liorer graduellement cette repr√©sentation pour converger vers la reproduction de la version en open data. Il ne s‚Äôagit pas encore de se concentrer sur l‚Äôesth√©tique de la figure mais de la rendre intelligible, √† gros trait.\n\nEn premier lieu, r√©ordonner les barres sur l‚Äôaxe des ordonn√©es gr√¢ce √† la fonction reorder. Cela rendra le message de la figure plus intelligible.\n\n\n\nFigure avec les barres r√©ordonn√©es\n\n\n\n\n\n\n\nOn r√©ordonne Nom du compteur en fonction de Comptage horaire\n\n\n\nModifier votre couche esth√©tique afin d‚Äôappliquer une couleur rouge √† l‚Äôensemble des barres\n\n\n\nFigure avec les barres rouges\n\n\n\n\n\n\n\n\n\nOn commence √† avoir quelque chose qui commence √† transmettre un message synth√©tique sur la nature des donn√©es. On peut n√©anmoins remarquer plusieurs √©l√©ments probl√©matiques (par exemple les labels) mais aussi des √©l√©ments ne correspondant pas (les titres des axes, etc.) ou manquants (le nom du graphique‚Ä¶)\n\n\n\n\n\n\nExercice 2 : Un peu de style !\n\n\n\nLa figure comporte maintenant un message mais il est encore peu lisible.\n\nLe minimum pour que quelqu‚Äôun ne connaissant pas les donn√©es soit capable de comprendre la repr√©sentation graphique est de labelliser les axes. Cr√©er les m√™mes labels d‚Äôaxes que la figure originale.\n\n\n\nFigure avec les axes nomm√©s\n\n\n\n\n\n\n\nIl existe de nombreuses mani√®res de proc√©der avec ggplot pour labelliser les axes. Mais la plus simple est la fonction labs\n\n\n\nLe fond gris permet est certes une marque distinctive que le graphique a √©t√© produit avec ggplot2 mais ce n‚Äôest pas tr√®s soign√©. Utiliser un th√®me plus minimaliste afin d‚Äôavoir un fond blanc.\n\n\n\nFigure avec un fond blanc\n\n\n\n\n\n\n\n\nMaintenant, concentrons nous sur les √©l√©ments plus esth√©tiques. Comme c‚Äôest une fonctionnalit√© un peu plus avanc√©e, nous proposons directement le code pour mettre √† jour votre figure avec les √©l√©ments de style suivant:\n\ntheme(\n  axis.text.x = element_text(angle = 45, hjust = 1, color = \"red\"),\n  axis.title.x = element_text(color = \"red\"),\n  plot.title = element_text(hjust = 0.5),\n  plot.margin = margin(1, 4, 1, 1, \"cm\")\n)\n\n\nFigure obtenue √† l‚Äôissue de ces questions\n\n\n\n\n\n\n\nEnfin ajoutons de la complexit√© au graphique avec les chiffres sur les barres. En vous aidant de ce post, ajouter les comptages horaires moyens comme sur la figure de l‚Äôopen data parisien2\n\n\n\n\nOn comprend ainsi que le boulevard de S√©bastopol est le plus emprunt√©, ce qui ne vous suprendra pas si vous faites du v√©lo √† Paris. N√©anmoins, si vous n‚Äô√™tes pas familiers avec la g√©ographie parisienne, cela sera peu informatif pour vous, vous allez avoir besoin d‚Äôune repr√©sentation graphique suppl√©mentaire: une carte ! Nous verrons ceci lors d‚Äôun prochain chapitre.\n\n\n\n\n\nLes 10 compteurs avec la moyenne horaire la plus √©lev√©e\n\n\n\n\n\n\n\n\n\n\nExercice 3: produire une nouvelle figure\n\n\n\nFaire la m√™me chose pour la figure 2 (‚ÄúLes 10 compteurs ayant comptabilis√©s le plus de v√©los‚Äù), afin d‚Äôobtenir une figure similaire.\n\n\nFigure 2 √† l‚Äôissue de cet exercice\n\n\n\n\n\n\n\n\n\nLes diagrammes en batons (barplot) sont extr√™mement communs mais qu‚Äôils transmettent. Sur le plan s√©miologique, les lollipop charts sont pr√©f√©rables: ils transmettent la m√™me information mais avec moins de bruit (la largeur des barres du barplot noie un peu l‚Äôinformation).\nVoici, par exemple, la deuxi√®me figure de la page, rendue non plus sous forme de barplot mais sous forme de lollipop chart:\n\n\n\n\n\n\n\nComparaison du barplot et du lollipop chart\n\n\n\n\n\n\n\nBarplot\n\n\n\n\n\n\n\nLollipop\n\n\n\n\n\n\nChoisissez votre repr√©sentation pr√©f√©r√©e\n\n\n\n\n\n\n\n\n\n\nExercice 3 bis (optionnel): produire un lollipop chart\n\n\n\nReprendre l‚Äôexercice 2 mais √† la place d‚Äôun barplot, produire un lollipop chart."
  },
  {
    "objectID": "exercises/ggplot.html#premi√®re-agr√©gation-temporelle",
    "href": "exercises/ggplot.html#premi√®re-agr√©gation-temporelle",
    "title": "Produire des repr√©sentations graphiques avec  et ggplot2",
    "section": "3 Premi√®re agr√©gation temporelle",
    "text": "3 Premi√®re agr√©gation temporelle\nOn va maintenant se concentrer sur la dimension spatiale de notre jeu de donn√©es √† travers deux approches:\n\nUn diagramme en barre synth√©tisant l‚Äôinformation de notre jeu de donn√©es de mani√®re mensuelle ;\nDes s√©ries instructives sur la dynamique temporelle. Cela sera l‚Äôobjet de la prochaine partie ;\n\nPour commencer, reproduisons la troisi√®me figure qui est, encore une fois, un barplot. La premi√®re question implique une premi√®re rencontre avec une donn√©e temporelle √† travers une op√©ration assez classique en s√©ries temporelles: changer le format d‚Äôune date pour pouvoir faire une agr√©gation √† un pas de temps plus large.\n\n\n\n\n\n\nExercice 4: barplot des comptages mensuels\n\n\n\n\nUtiliser la fonction format pour cr√©er une variable month dont le format respecte, par exemple, le sch√©ma 2019-08 ;\nFaire la moyenne des comptages horaires pour chaque mois\n\n\n\nComptages horaires obtenus √† l‚Äôissue de cette question\n\n\n\n# A tibble: 14 √ó 2\n   month   value\n   &lt;chr&gt;   &lt;dbl&gt;\n 1 2019-08  33.6\n 2 2019-09  55.8\n 3 2019-10  49.9\n 4 2019-11  36.0\n 5 2019-12  67.9\n 6 2020-01  66.1\n 7 2020-02  43.2\n 8 2020-03  29.4\n 9 2020-04  12.5\n10 2020-05  54.6\n11 2020-06  85.0\n12 2020-07  80.7\n13 2020-08  53.2\n14 2020-09  98.3\n\n\n\nAppliquer les conseils pr√©c√©dents pour construire et am√©liorer graduellement un graphique afin d‚Äôobtenir une figure similaire √† la 3e production sur la page de l‚Äôopen data parisien.\n\n\nExemple de figure reproduisant l‚Äôopen data parisien\n\n\n\n\n\n\n\n\nQuestion optionnelle: repr√©senter la m√™me information sous forme de lollipop\n\n\n\n\n\n\n\n\nSi vous pr√©f√©rez repr√©senter cela sous forme de lollipop3:"
  },
  {
    "objectID": "exercises/ggplot.html#premi√®re-s√©rie-temporelle",
    "href": "exercises/ggplot.html#premi√®re-s√©rie-temporelle",
    "title": "Produire des repr√©sentations graphiques avec  et ggplot2",
    "section": "4 Premi√®re s√©rie temporelle",
    "text": "4 Premi√®re s√©rie temporelle\nIl est plus commun de repr√©senter sous forme de s√©rie les donn√©es ayant une dimension temporelle.\n\n\n\n\n\n\nExercice 5: Repr√©senter une s√©rie temporelle\n\n\n\n\nCr√©er une variable day qui transforme l‚Äôhorodatage en format journalier du type 2021-05-01.\n\n\nRepr√©senter sous forme de s√©rie temporelle cette information, sans vous pr√©occuper du style de la figure.\n\n\n\nFigure minimaliste\n\n\n\n\n\n\n\n\nColorer la zone sous la ligne avec la fonction appropri√©e\n\n\n\nFigure avec la coloration sous la ligne\n\n\n\n\n\n\n\n\nFinaliser le graphique pour reproduire la figure de la page d‚Äôopen data\n\n\n\nFigure finalis√©e\n\n\n\n\n\n\n\nVoici quelques aides pour cet exercice\n\n\nüí° Aide pour la question 1\n\nRegardez la fonction day du package lubridate\n\n\n\nüí° Aide pour la question 3\n\nCe thread sur stackoverflow peut vous aider.\n\n\n\nLe jeu de donn√©es pour la figure 4\n\n\n\n# A tibble: 6 √ó 2\n  day        value\n  &lt;date&gt;     &lt;dbl&gt;\n1 2019-08-01  46.7\n2 2019-08-02  40.0\n3 2019-08-03  30.7\n4 2019-08-04  28.9\n5 2019-08-05  36.0\n6 2019-08-06  29.9\n\n\n\n\n\nA l‚Äôissue de cet exercice, on obtient ainsi une figure prenant la forme suivante:"
  },
  {
    "objectID": "exercises/ggplot.html#introduction-aux-graphiques-html-avec-plotly",
    "href": "exercises/ggplot.html#introduction-aux-graphiques-html-avec-plotly",
    "title": "Produire des repr√©sentations graphiques avec  et ggplot2",
    "section": "5 Introduction aux graphiques HTML avec Plotly",
    "text": "5 Introduction aux graphiques HTML avec Plotly\nL‚Äôinconv√©nient des figures avec ggplot est que celles-ci ne permettent pas d‚Äôinteraction avec le lecteur. Toute l‚Äôinformation doit donc √™tre contenue dans la figure ce qui peut la rendre difficile √† lire. Si la figure est bien faite, avec diff√©rents niveaux d‚Äôinformation, cela peut bien fonctionner.\nIl est n√©anmoins plus simple, gr√¢ce aux technologies web, de proposer des visualisations √† plusieurs niveaux. Un premier niveau d‚Äôinformation, celui du coup d‚Äôoeil, peut suffire √† assimiler les principaux messages de la visualisation. Ensuite, un comportement plus volontaire de recherche d‚Äôinformation secondaire peut permettre d‚Äôen savoir plus. Les visualisations r√©actives, qui sont maintenant la norme dans le monde de la dataviz, permettent ce type d‚Äôapproche: le lecteur d‚Äôune visualisation peut passer sa souris √† la recherche d‚Äôinformation compl√©mentaire (par exemple les valeurs exactes) ou cliquer pour faire appara√Ætre des informations compl√©mentaires sur la visualisation ou autour.\nCes visualisations reposent sur le m√™me triptyque que l‚Äôensemble de l‚Äô√©cosyst√®me web: HTML, CSS et JavaScript. Les utilisateurs de  ne vont jamais manipuler directement ces langages, qui demandent une certaine expertise, mais vont utiliser des librairies au niveau de  qui g√©n√®reront automatiquement tout le code HTML, CSS et JavaScript permettant de cr√©er la figure.\n\n\n\n\n\n\nExercice 6: s√©rie temporelle interactive\n\n\n\n\nCr√©er une figure Plotly basique pour repr√©senter sous forme de s√©rie temporelle la figure 4, sans se pr√©occuper du style\n\n\n\nS√©rie temporelle produite sans √©l√©ment de style\n\n\n\n\n\n\n\n\n\nA partir de l‚Äôexemple dans la documentation, ajouter une aire sous la figure\n\n\n\nAjout de la couche sous la ligne\n\n\n\n\n\n\n\n\n\nJouer sur les √©l√©ments de style pour reproduire la figure 4. Pour profiter de la r√©activit√© du graphique, soigner l‚Äôinformation obtenue en passant la souris sur la figure gr√¢ce aux arguments hovertemplate et hoverinfo\n\n\n\nFigure obtenue\n\n\n\n\n\n\n\n\n\n\nLa version r√©active de la figure est ainsi\n\n\n\n\n\n\nCette repr√©sentation montre bien le caract√®re sp√©cial de l‚Äôann√©e 2020. Pour rappeller au lecteur distrait la nature particuli√®re de la p√©riode, marqu√©e par un premier confinement qu‚Äôon voit bien dans les donn√©es, on peut, avec l‚Äôaide de la documentation, ajouter deux barres verticales pour marquer les dates de d√©but et de fin de cette p√©riode:\n\nvline &lt;- function(x = 0, color = \"royalblue\") {\n  list(\n    type = \"line\",\n    y0 = 0,\n    y1 = 1,\n    yref = \"paper\",\n    x0 = x,\n    x1 = x,\n    line = list(color = color, dash=\"dot\")\n  )\n}\n\nfig4 %&gt;% layout(shapes = list(vline(\"2020-03-17\"), vline(\"2020-05-11\")))\n\n\n\n\n\nComme dernier exercice, voici comment reproduire cette figure avec Plotly:\n:::\n\n\n\n\n\n\n\n\n\n\n\n\nExercice 7: un barplot avec Plotly\n\n\n\n\nPour avoir imm√©diatement des barres bien ordonn√©es, utiliser la fonction fct_reorder du package forcats pour r√©oordonner les valeurs du dataframe issu de l‚Äôexercice 1\nUtiliser Plotly pour cr√©er votre figure.\n(Optionnel, plus avanc√©) Faire un lollipop chart avec Plotly"
  },
  {
    "objectID": "exercises/ggplot.html#footnotes",
    "href": "exercises/ggplot.html#footnotes",
    "title": "Produire des repr√©sentations graphiques avec  et ggplot2",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nD‚Äôhabitude, nous recommandons d‚Äôutiliser directement l‚ÄôURL de t√©l√©chargement ce qui √©vite de cr√©er un fichier interm√©diaire sur le disque dur. N√©anmoins, ici, l‚Äôimport direct avec readr ne fonctionnera pas car le fichier est mal interpr√©t√© par la librairie. Celle-ci ne comprend pas que le fichier est compress√© car il lui manque l‚Äôextension .gz (un format compress√©) √† la fin.‚Ü©Ô∏é\nCe n‚Äôest pas forc√©ment une bonne pratique de dataviz de faire cela. En effet, cela signifie que l‚Äô√©chelle et la diversit√© des donn√©es dans celle-ci ne sont pas directement intelligibles.‚Ü©Ô∏é\nJ‚Äôai retir√© la couleur sur l‚Äôaxe des ordonn√©es qui, je trouve, apporte peu √† la figure voire d√©grade la compr√©hension du message.‚Ü©Ô∏é"
  },
  {
    "objectID": "exercises/cartography.html",
    "href": "exercises/cartography.html",
    "title": "Produire des cartes avec ",
    "section": "",
    "text": "Dans ce TP, nous allons apprendre √† cr√©er des cartes avec . A mesure que  devient incontournable aupr√®s des personnes manipulant des donn√©es spatiales, les solutions pour produire des cartes de qualit√© deviennent de plus en plus nombreuses.  a de moins en moins √† envier aux logiciels sp√©cialis√©s comme QGIS.\nSi vous √™tes int√©ress√©s par Python , une version tr√®s proche de ce TP est disponible dans mon cours de l‚ÄôENSAE.\nLa pratique de la cartographie se fera, dans la continuit√© du chapitre sur les graphiques, en r√©pliquant des cartes qu‚Äôon peut trouver sur la page de l‚Äôopen-data de la ville de Paris ici.\nCe TP vise √† initier:\nDans ce chapitre, nous allons utiliser les packages suivants:\nlibrary(dplyr)\nlibrary(sf)\nlibrary(stringr)\nlibrary(ggplot2)\nlibrary(ggmap)\nlibrary(cartiflette)"
  },
  {
    "objectID": "exercises/cartography.html#donn√©es",
    "href": "exercises/cartography.html#donn√©es",
    "title": "Produire des cartes avec ",
    "section": "1 Donn√©es",
    "text": "1 Donn√©es\nAu cours de ce chapitre, nous allons utiliser principalement trois jeux de donn√©es :\n\nLes comptages de passage de v√©los dans les stations de mesure parisiennnes ;\nLa localisation pr√©cise des stations\nLes limites officielles administratives des arrondissements et communes de l‚Äôagglom√©ration parisienne. Ce fonds de carte est produit par l‚ÄôIGN et sa r√©cup√©ration est facilit√©e par le package cartiflette.\n\n\n1.1 Comptages\nUn sous-ensemble des donn√©es de Paris Open Data a √©t√© mis √† disposition pour faciliter l‚Äôimport.\nIl s‚Äôagit d‚Äôune extraction, qui commence √† dater, des donn√©es disponibles sur le site o√π seules les colonnes qui servent √† cet exercice ont √©t√© conserv√©es.\nNous proposons de t√©l√©charger ces donn√©es et les enregistrer dans un fichier sur le disque dur local avant de l‚Äôimporter1. Cependant, nous n‚Äôallons pas faire cela manuellement mais nous allons plut√¥t utiliser . Effectuer ce type d‚Äôaction de mani√®re manuelle serait une mauvaise pratique du point de vue de la reproductibilit√©.\n\nurl &lt;- \"https://minio.lab.sspcloud.fr/projet-formation/diffusion/python-datascientist/bike.csv\"\n1download.file(url, \"bike.gz\")\n2comptages &lt;- readr::read_csv(\"bike.gz\")\n\n\n1\n\nL‚Äôextension .gz est importante pour la suite car readr en a besoin pour comprendre que le fichier est compress√©.\n\n2\n\nLecture des donn√©es avec read_csv du package readr\n\n\n\n\n\n\n1.2 Localisation des compteurs\n\ncompteurs = st_read(\"https://parisdata.opendatasoft.com/api/explore/v2.1/catalog/datasets/comptage-velo-compteurs/exports/geojson?lang=fr&timezone=Europe%2FBerlin\")\n\nIl y a quelques valeurs aberrantes dans ce jeu de donn√©es qui doivent √™tre laiss√©es de c√¥t√©. Elles sont identifiables par le fait que la variable nom_compteurs ne comporte pas les mentions Bike IN ou Bike OUT. Comme c‚Äôest un petit peu avanc√© pour une introduction, nous donnons directement la solution de ce travail de nettoyage:\n\ncompteurs &lt;- compteurs %&gt;% filter(!str_detect(\"(Bike IN|Bike OUT)\", nom_compteur))\n\n\n\n1.3 Fonds de carte contextuels\nOn va utiliser √† nouveau cartiflette pour r√©cup√©rer les arrondissements parisiens et les communes limitrophes.\n\narrondissements &lt;- download_vectorfile_url_all(\n  crs = 4326,\n  values = \"75\",\n  borders=\"COMMUNE_ARRONDISSEMENT\",\n  vectorfile_format=\"geojson\",\n  filter_by=\"DEPARTEMENT\",\n  source=\"EXPRESS-COG-CARTO-TERRITOIRE\",\n  year=2022) %&gt;%\n  st_transform(2154)"
  },
  {
    "objectID": "exercises/cartography.html#une-premi√®re-carte-avec-ggplot",
    "href": "exercises/cartography.html#une-premi√®re-carte-avec-ggplot",
    "title": "Produire des cartes avec ",
    "section": "2 Une premi√®re carte avec ggplot",
    "text": "2 Une premi√®re carte avec ggplot\nLors des chapitres pr√©c√©dents nous avons appris la mani√®re dont des graphiques peuvent √™tre construits en accumulant des couches.\nIl est possible d‚Äôajouter des couches sur une image, √† condition que les coordonn√©es co√Øncident. Pour faire cela de mani√®re fiable, nous allons utiliser le package ggmap2.\nL‚Äôobjectif du prochain exercice est de construire la carte suivante, de mani√®re progressive:\n\n\n‚Ñπ Map tiles by Stamen Design, under CC BY 3.0. Data by OpenStreetMap, under CC BY SA.\n\n\nCoordinate system already present. Adding new coordinate system, which will\nreplace the existing one.\n\n\n\n\n\n\n\n\n\n\n\n\n\nExercice 1: construire la carte des compteurs avec ggmap et ggplot\n\n\n\nPour r√©cup√©rer la carte, nous allons avoir besoin de construire un certain nombre d‚Äôobjets en amont. En premier lieu, il est n√©cessaire de cr√©er un vecteur stockant les extr√™mes de notre carte. Dans le jargon des SIG, cela s‚Äôappelle la bounding box. Voici comment faire ceci:\n\n1bbox_paris &lt;- arrondissements %&gt;% st_transform(4326) %&gt;% st_bbox()\n2bbox_paris &lt;- setNames(bbox_paris, c(\"left\", \"bottom\", \"right\", \"top\"))\nbbox_paris\n\n\n1\n\nOn a besoin de coordonn√©es en WGS84, il faut donc reprojeter les donn√©es avant d‚Äôappliquer st_bbox\n\n2\n\nggmap attend un vecteur dont les noms sont \"left\", \"bottom\", \"right\", \"top\", setNames permet de renommer les √©l√©ments de bbox_paris\n\n\n\n\n\nbbox_paris\n\n     left    bottom     right       top \n 2.224217 48.815562  2.469851 48.902148 \n\n\n\nUtiliser get_map pour r√©cup√©rer le fonds de carte. Nommer l‚Äôobjet map_paris_watercolor. La carte propos√©e utilise le fonds watercolor, dont la source est stamen. Utiliser ensuite ggmap(fonds_stamen) pour v√©rifier le fonds de carte r√©cup√©r√©.\nAjouter une couche d‚Äôarrondissements √† cette image avec geom_sf. Il va √™tre n√©cessaire d‚Äôutiliser les arguments suivants:\n\n\ndata: comme nous initialisons la figure avec ggmap, il faut dire √† ggplot que nous partons du jeu de donn√©es arrondissements pour cette couche\nfill et color pour contr√¥ler, respectivement, la couleur de l‚Äôint√©rieur et des bordures des polygones.\ninherit.aes = FALSE: indispensable √† cause du comportement de ggmap qui ne sait pas g√©rer les objets sf (cf.¬†footnote ant√©rieure)\n\n\nAjouter une couche pour repr√©senter la position des stations avec geom_sf. Il va √™tre n√©cessaire d‚Äôutiliser les arguments suivants:\n\n\ndata: comme nous initialisons la figure avec ggmap, il faut dire √† ggplot que nous partons du jeu de donn√©es compteurs pour cette couche\ncolor=\"red\", size=5 et alpha=0.4 pour contr√¥ler l‚Äôapparence de nos points\ninherit.aes = FALSE: indispensable √† cause du comportement de ggmap qui ne sait pas g√©rer les objets sf (cf.¬†footnote ant√©rieure)\n\n\nFinaliser l‚Äôesth√©tique de la carte avec theme_void()\n\n\n\nAide pour la question 1\n\nLes arguments √† utiliser sont location, maptype et source\n\n\n\n\n\nLe fonds de carte, sans motif par dessus, est le suivant:\n\n\n\n‚Ñπ Map tiles by Stamen Design, under CC BY 3.0. Data by OpenStreetMap, under CC BY SA.\n\n\n\n\n\n\n\n\nEn ajoutant les arrondissements par dessus (question 2):\n\n\n\nCoordinate system already present. Adding new coordinate system, which will\nreplace the existing one.\n\n\n\n\n\n\n\n\nApr√®s avoir ajout√© les points (question 3)\n\n\n\n\n\n\n\n\n\nSi vous pr√©f√©rez un autre fonds de carte que Watercolor, par exemple Stamen Toner:\n\n\n\n‚Ñπ Map tiles by Stamen Design, under CC BY 3.0. Data by OpenStreetMap, under ODbL.\n\n\nCoordinate system already present. Adding new coordinate system, which will\nreplace the existing one."
  },
  {
    "objectID": "exercises/cartography.html#heatmap",
    "href": "exercises/cartography.html#heatmap",
    "title": "Produire des cartes avec ",
    "section": "3 Heatmap",
    "text": "3 Heatmap"
  },
  {
    "objectID": "exercises/cartography.html#carte-de-fr√©quentation-des-stations",
    "href": "exercises/cartography.html#carte-de-fr√©quentation-des-stations",
    "title": "Produire des cartes avec ",
    "section": "4 Carte de fr√©quentation des stations",
    "text": "4 Carte de fr√©quentation des stations\n\n\n\n\n\n\nExercice\n\n\n\n\n\n\n\n\n\nAttaching package: 'lubridate'\n\n\nThe following objects are masked from 'package:base':\n\n    date, intersect, setdiff, union"
  },
  {
    "objectID": "exercises/cartography.html#footnotes",
    "href": "exercises/cartography.html#footnotes",
    "title": "Produire des cartes avec ",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nD‚Äôhabitude, nous recommandons d‚Äôutiliser directement l‚ÄôURL de t√©l√©chargement ce qui √©vite de cr√©er un fichier interm√©diaire sur le disque dur. N√©anmoins, ici, l‚Äôimport direct avec readr ne fonctionnera pas car le fichier est mal interpr√©t√© par la librairie. Celle-ci ne comprend pas que le fichier est compress√© car il lui manque l‚Äôextension .gz (un format compress√©) √† la fin.‚Ü©Ô∏é\nggmap est un package assez ancien qui n‚Äôa pas trop √©volu√© r√©cemment. Il continue notamment √† utiliser des objets sp, l‚Äôanc√™tre de sf qui existe d√©j√† depuis plusieurs ann√©es. Il est donc possible que ce package soit archiv√© dans un futur plus ou moins lointain.‚Ü©Ô∏é"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "",
    "text": "Introduction aux m√©thodes quantitatives avec \nLino Galiana\nCours du d√©partement de sciences sociales de l‚ÄôENS Ulm.\nUn cours pour se familiariser √†  par la pratique avec l‚Äôopen data.\n\n\n\n  \n     \n      \n          \n            \n          \n          \n            Introduction aux objets de base \n            \n              \nIntroduction aux objets basiques de \net √† RStudio\n\n\n              \n                Lino Galiana\n                Sep 1, 2023\n              \n            \n            \n                \n                  Exercice ‚úèÔ∏è\n                \n                \n                  Slides üßë‚Äçüè´\n                \n            \n          \n        \n      \n     \n  \n  \n     \n      \n          \n            \n          \n          \n            Manipuler des donn√©es avec le tidyverse\n            \n              \nIntroduction √† l'√©cosyst√®me du tidyverse\npour lire et manipuler des donn√©es structur√©es avec \n\n\n              \n                Lino Galiana\n                Sep 1, 2023\n              \n            \n            \n                \n                  Exercice ‚úèÔ∏è\n                \n                \n                  Slides üßë‚Äçüè´\n                \n            \n          \n        \n      \n     \n  \n  \n     \n      \n          \n            \n          \n          \n            Produire des repr√©sentations graphiques avec ggplot2\n            \n              \nIntroduction √† ggplot2,\npour produire des graphiques avec\n\n\n\n              \n                Lino Galiana\n                Sep 1, 2023\n              \n            \n            \n                \n                  Exercice ‚úèÔ∏è\n                \n                \n                  Slides üßë‚Äçüè´\n                \n            \n          \n        \n      \n     \n  \n  \n     \n      \n          \n            \n          \n          \n            Manipuler des donn√©es spatiales avec sf\n            \n              \nIntroduction √† sf,\nune extension du\ntidyverse\npour transformer \nen SIG capable de lire et manipuler des donn√©es g√©ographiques.\n\n\n              \n                Lino Galiana\n                Sep 1, 2023\n              \n            \n            \n                \n                  Exercice ‚úèÔ∏è\n                \n                \n                  Slides üßë‚Äçüè´\n                \n            \n          \n        \n      \n     \n  \n  \n     \n      \n          \n            \n          \n          \n            Produire des cartes avec \n            \n              \nIntroduction √† la cartographie avec\n\n\n\n              \n                Lino Galiana\n                Sep 1, 2023\n              \n            \n            \n                \n                  Exercice ‚úèÔ∏è\n                \n                \n                  Slides üßë‚Äçüè´\n                \n            \n          \n        \n      \n     \n  \n\n\nNo matching items"
  },
  {
    "objectID": "slides/ggplot.html#introduction",
    "href": "slides/ggplot.html#introduction",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Introduction",
    "text": "Introduction\n\n\n\n\n\n\nNote\n\n\n\nExercices associ√©s √† ce chapitre ici\n\n\n\n\n\n\nRetour √† la page principale"
  },
  {
    "objectID": "slides/ggplot.html#introduction-1",
    "href": "slides/ggplot.html#introduction-1",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Introduction",
    "text": "Introduction\n\nLa visualisation de donn√©es synth√©tise la structure des donn√©es\n\nGuide l‚Äôexploration ult√©rieure de donn√©es\nTransmets un message au lecteur\n\n\n\n\n2 types de visualisations :\n\nRepr√©sentations fig√©es: ggplot2\nRepr√©sentations HTML: leaflet"
  },
  {
    "objectID": "slides/ggplot.html#jeu-de-donn√©es-des-exemples",
    "href": "slides/ggplot.html#jeu-de-donn√©es-des-exemples",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Jeu de donn√©es des exemples",
    "text": "Jeu de donn√©es des exemples\n\nlibrary(doremifasol)\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(scales)\n\ndf &lt;- telechargerDonnees(\"FILOSOFI_DISP_IRIS\", date = 2017) %&gt;%\n  as_tibble() %&gt;%\n  sample_frac(0.1)\n\n\n\n\n\n\n\nNote\n\n\nInspiration pour ces slides :\n\nDocumentation collaborative utilitR ;\nManuel ggplot ;\nCours de Joseph Larmarange"
  },
  {
    "objectID": "slides/ggplot.html#ggplot2",
    "href": "slides/ggplot.html#ggplot2",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "ggplot2",
    "text": "ggplot2\nInitialise une figure associ√©e √† un jeu de donn√©es\n\nggplot(df, aes(x = DISP_MED17, y = DISP_D917))"
  },
  {
    "objectID": "slides/ggplot.html#ggplot2-1",
    "href": "slides/ggplot.html#ggplot2-1",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "ggplot2",
    "text": "ggplot2\nAjoute des couches (+) avec les fonctions geom_*\n\nggplot(df) +\n  geom_point(aes(x = DISP_MED17, y = DISP_D917))"
  },
  {
    "objectID": "slides/ggplot.html#ggplot2-2",
    "href": "slides/ggplot.html#ggplot2-2",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "ggplot2",
    "text": "ggplot2\nParam√©trise les couches avec aes\n\nggplot(df) +\n  geom_point(aes(x = DISP_MED17, y = DISP_D917, color = DISP_Q117), shape = 3)\n\n\n\n\n\n\n\n\nNote\n\n\nLe contr√¥le de l‚Äôesth√©tique d‚Äôune couche geom_ se fait :\n\naes: param√®tres variables de la couche li√©s √† une variable ;\nhors aes: param√®tres qui s‚Äôappliquent uniform√©ment sur la couche"
  },
  {
    "objectID": "slides/ggplot.html#ggplot2-3",
    "href": "slides/ggplot.html#ggplot2-3",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "ggplot2",
    "text": "ggplot2\nAjoute des couches (+) avec les fonctions geom_*\n\nggplot(df, aes(x = DISP_MED17, y = DISP_D917)) +\n  geom_point(aes(color = DISP_Q117), shape = 3) +\n  geom_smooth(color = \"red\", alpha = 0.7, se = FALSE)"
  },
  {
    "objectID": "slides/ggplot.html#ggplot2-4",
    "href": "slides/ggplot.html#ggplot2-4",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "ggplot2",
    "text": "ggplot2\nModifier les √©chelles avec les fonctions scale_\n\nggplot(df, aes(x = DISP_MED17, y = DISP_D917)) +\n  geom_point(aes(color = DISP_Q117), shape = 3) +\n  geom_smooth(color = \"red\", alpha = 0.7, se = FALSE) +\n  scale_x_continuous(labels = unit_format(unit = \"k\", scale=1e-3)) +\n  scale_y_continuous(trans='log', labels = unit_format(unit = \"k\", scale=1e-3)) +\n  scale_color_viridis_c()"
  },
  {
    "objectID": "slides/ggplot.html#ggplot2-5",
    "href": "slides/ggplot.html#ggplot2-5",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "ggplot2",
    "text": "ggplot2\nModifier les √©chelles avec les fonctions scale_\n\ndf &lt;- df %&gt;% mutate(quartile = factor(ntile(DISP_Q117, 4)))\nggplot(df, aes(x = DISP_MED17, y = DISP_D917)) +\n  geom_point(aes(color = quartile), shape = 3) +\n  geom_smooth(color = \"red\", alpha = 0.7, se = FALSE) +\n  scale_x_continuous(labels = unit_format(unit = \"k\", scale=1e-3)) +\n  scale_y_continuous(trans='log', labels = unit_format(unit = \"k\", scale=1e-3)) +\n  scale_color_viridis_d(option = \"turbo\")"
  },
  {
    "objectID": "slides/ggplot.html#ggplot2-6",
    "href": "slides/ggplot.html#ggplot2-6",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "ggplot2",
    "text": "ggplot2\nModifier l‚Äôesth√©tique, √† la fin seulement\n\np &lt;- ggplot(df, aes(x = DISP_MED17, y = DISP_D917)) +\n  geom_point(aes(color = quartile), shape = 3) +\n  geom_smooth(color = \"red\", alpha = 0.7, se = FALSE) +\n  scale_x_continuous(labels = unit_format(unit = \"k\", scale=1e-3)) +\n  scale_y_continuous(trans='log', labels = unit_format(unit = \"k\", scale=1e-3)) +\n  scale_color_viridis_d(option = \"turbo\")\n\np + theme_bw() +\n  labs(x = \"Revenu m√©dian\", y = \"9e d√©cile\", color = \"Quartile\") +\n  theme(legend.position = \"bottom\")\n\n\n\n\nIntroduction aux m√©thodes quantitatives avec , √âcole Normale Sup√©rieure (retour page principale)"
  },
  {
    "objectID": "slides/introduction.html#chapitre-introductif",
    "href": "slides/introduction.html#chapitre-introductif",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Chapitre introductif",
    "text": "Chapitre introductif\n\n\n\n\n\n\nNote\n\n\n\nExercices associ√©s √† ce chapitre ici\n\n\n\n\n\n\nRetour √† la page principale"
  },
  {
    "objectID": "slides/introduction.html#qui-suis-je-fa-brands-firefox-sizetiny-fa-brands-github-sizetiny-fa-brands-twitter-sizetiny-fa-brands-linkedin-sizetiny-fa-brands-python-sizetiny",
    "href": "slides/introduction.html#qui-suis-je-fa-brands-firefox-sizetiny-fa-brands-github-sizetiny-fa-brands-twitter-sizetiny-fa-brands-linkedin-sizetiny-fa-brands-python-sizetiny",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Qui suis-je ?      ",
    "text": "Qui suis-je ?      \n\nData scientist au lab de l‚ÄôInsee :\n\nAdministrateur Insee1 ;\nCoordonnateur d‚Äôun r√©seau de data scientists\n\n\n\n\nImplication dans l‚Äôinnovation statistique, l‚Äôopen source et la diffusion grand public2:\n\n: utilitR, doremifasol\n: cartiflette, pynsee\n\n\n\nRenseignez-vous sur le concours ENS ! Il y a de belles missions !Pas tout seul ! Avec une communaut√© de gens sympa de l‚Äôadministration et de la recherche ! Beaucoup de projets novateurs üòç sur compte  InseeFrLab"
  },
  {
    "objectID": "slides/introduction.html#qui-suis-je",
    "href": "slides/introduction.html#qui-suis-je",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Qui suis-je ?",
    "text": "Qui suis-je ?\n\nTravaux √† l‚Äôintersection entre informatique, √©conomie, sociologie & g√©ographie:\n\nS√©gr√©gation avec donn√©es de t√©l√©phonie mobile\nIn√©galit√©s alimentaires √† partir de donn√©es massives de supermarch√©s\n\n\n\nExemple tir√© de l‚ÄôInsee Analyse sur la mixit√© sociale"
  },
  {
    "objectID": "slides/introduction.html#qui-suis-je-1",
    "href": "slides/introduction.html#qui-suis-je-1",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Qui suis-je ?",
    "text": "Qui suis-je ?\nD‚Äôautres cours introductifs que je donne peuvent vous int√©resser:\n\nPython pour la data science ;\nBonnes pratiques en R et Git ;\nDonn√©es √©mergentes ;\n\nEt surtout consultez le portail complet de formation du datalab de l‚ÄôInsee"
  },
  {
    "objectID": "slides/introduction.html#objectifs-p√©dagogiques",
    "href": "slides/introduction.html#objectifs-p√©dagogiques",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Objectifs p√©dagogiques",
    "text": "Objectifs p√©dagogiques\n\nD√©couverte de l‚Äô√©cosyst√®me de l‚Äôopen data üá´üá∑\n\n\n\nIntroduction pratique au langage :\n\nDonn√©es classiques\nDonn√©es g√©ographiques\n\n\n\n\n\nIntroduction √† la publication reproductible avec Quarto\n\n\n\n\nOuverture √† la cartographie web avec Observable"
  },
  {
    "objectID": "slides/introduction.html#modalit√©s-pratiques",
    "href": "slides/introduction.html#modalit√©s-pratiques",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Modalit√©s pratiques",
    "text": "Modalit√©s pratiques\n\nDes slides et surtout des TP guid√©s ;\nInfrastructure informatique (SSPCloud) fournie par l‚ÄôInsee pour √©viter:\n\nles gal√®res d‚Äôinstallation\nles gal√®res de configuration\n\nModalit√©s d‚Äôinitialisation √† venir ;\n\nOn va utiliser le SSPCloud üòçüêâ‚òÅÔ∏èüá´üá∑ !\n(pr√©sentation tout √† l‚Äôheure)"
  },
  {
    "objectID": "slides/introduction.html#ressources-compl√©mentaires",
    "href": "slides/introduction.html#ressources-compl√©mentaires",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Ressources compl√©mentaires",
    "text": "Ressources compl√©mentaires\n\nIntroduction √† R et au tidyverse ;\n\n\n\nDocumentation collaborative utilitR üë∂ ;\n\n\n\n\nPortail de formation du SSPCloud ;\n\n\n\n\nFunathon organis√© par l‚ÄôInsee ;\n\n\n\n\nR for Data Science (la bible !) ;\n\n\n\n\nData science with R (Sciences Po) ;\n\n\n\n\nRzine, du CIST\n\n\n\n\nGeocomputation with R, de Lovelace, Nowosad et Muenchow\n\n\n\n\nData Visualization : A practical introduction, de Kieran Healy"
  },
  {
    "objectID": "slides/introduction.html#prolif√©ration-des-donn√©es",
    "href": "slides/introduction.html#prolif√©ration-des-donn√©es",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Prolif√©ration des donn√©es",
    "text": "Prolif√©ration des donn√©es\n\nNum√©risation et innovations technologiques ont r√©duit le co√ªt de production de la donn√©e ;\n\nVolume de donn√©es produites en explosion\n\n\n\n\nL‚Äôutilisation des statistiques n‚Äôest pas nouvelle (cf.¬†Desrosi√®res)‚Ä¶\n\n\n\n\n‚Ä¶ mais une place accrue dans le d√©bat public et l‚Äôaction publique (Supiot, Martin)"
  },
  {
    "objectID": "slides/introduction.html#diversification-des-donn√©es-14",
    "href": "slides/introduction.html#diversification-des-donn√©es-14",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Diversification des donn√©es (1/4)",
    "text": "Diversification des donn√©es (1/4)\nDonn√©es tabulaires classiques\n\nviewof info_mutations = Inputs.radio(\n  [\"Tableau\", \"Graphique\"], {value: \"Tableau\"}\n)\n\n\n\n\n\n\n\ninfo_mutations == \"Tableau\" ? html`&lt;div&gt;${table_mutations1}&lt;div&gt;` : html`&lt;div&gt;${plot_mutations}&lt;div&gt;`\n\n\n\n\n\n\n\nurl = \"https://files.data.gouv.fr/geo-dvf/latest/csv/2020/communes/92/92049.csv\"\nproxy = \"https://corsproxy.io/?\"\ndvf = d3.csv(proxy + url)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ntable_mutations1 = Inputs.table(dvf, {\"columns\": ['date_mutation', 'valeur_fonciere', 'adresse_nom_voie']})\nplot_mutations = Plot.plot({\n  y: {grid: true, label: \"Nombre de transactions\"},\n  x: {\n    ticks: 12,\n    transform: (d) =&gt; Math.pow(10, d),\n    type: \"log\",\n    tickFormat: \"~s\",\n    label: \"Prix (√©chelle log) ‚Üí\"\n  },\n  marks: [\n    Plot.rectY(\n      dvf.filter(d =&gt; d.valeur_fonciere &gt; 10000),\n      Plot.binX({y: \"count\"},\n      {\n        x: d =&gt; Math.log10(d.valeur_fonciere),\n        tip: true\n      })\n    ),\n    Plot.ruleY([0])\n  ]\n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPlot = require(\"https://cdn.jsdelivr.net/npm/@observablehq/plot@0.6.10/dist/plot.umd.min.js\")"
  },
  {
    "objectID": "slides/introduction.html#diversification-des-donn√©es-14-1",
    "href": "slides/introduction.html#diversification-des-donn√©es-14-1",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Diversification des donn√©es (1/4)",
    "text": "Diversification des donn√©es (1/4)\nDonn√©es tabulaires classiques\n\nDonn√©es structur√©es sous forme de tableau\n\n\nSource: Hadley Wickham, R for data science\n tr√®s bien outill√© pour ces donn√©es (si volum√©trie adapt√©e)"
  },
  {
    "objectID": "slides/introduction.html#diversification-des-donn√©es-24",
    "href": "slides/introduction.html#diversification-des-donn√©es-24",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Diversification des donn√©es (2/4)",
    "text": "Diversification des donn√©es (2/4)\n\nDonn√©es g√©olocalis√©es\n\n\nviewof info_power_plants = Inputs.radio(\n  [\"Tableau\", \"Carte\"], {value: \"Tableau\"}\n)\n\n\n\n\n\n\n\ninfo_power_plants == \"Tableau\" ? html`&lt;div&gt;${table_power_plants}&lt;div&gt;` : html`&lt;div&gt;${plot_power_plants}&lt;div&gt;`\n\n\n\n\n\n\n\nimport {us_power_plants, states} from \"@observablehq/build-your-first-map-with-observable-plot\"\n\ntable_power_plants = Inputs.table(\n  us_power_plants\n)\n\n\nplot_power_plants = Plot.plot({\n  projection: \"albers-usa\",\n  marks: [\n    Plot.geo(states, { fill: \"white\", stroke: \"#e2e2e2\"  }),\n    Plot.dot(us_power_plants, {\n      x: \"longitude\",\n      y: \"latitude\",\n      r: \"Total_MW\",\n      fill: \"PrimSource\",\n      opacity: 0.7,\n      tip: true\n    }),\n    Plot.dot(us_power_plants, { // Can you figure out what this additional Plot.dot layer adds?\n      x: \"longitude\",\n      y: \"latitude\",\n      r: \"Total_MW\",\n      fill: \"PrimSource\",\n      stroke: \"black\",\n      filter: d =&gt; d.Total_MW &gt; 3500,\n    }),\n    Plot.text(us_power_plants, { // Add text to the map using data from us_power_plants\n      x: \"longitude\", // Place text horizontally at plant longitude\n      y: \"latitude\", // Place text vertically at plant latitude\n      text: \"Plant_Name\", // The text that appears is the value from the Plant_Name column,\n      filter: (d) =&gt; d.Total_MW &gt; 3500, // Only add text for plants with capacity exceeding 3500 MW\n      fontSize: 12, // Increased font size\n      fontWeight: 600, // Increased font weight\n      stroke: \"white\", // Adds white outer stroke to text (for readability)\n      fill: \"black\", // Text fill color\n      textAnchor: \"start\", // Left align text with the x- and y-coordinates\n      dx: 15 // Shifts text to the right (starting from left alignment with coordinate)\n    })\n  ],\n  r: { range: [1, 15] },\n  color: { legend: true },\n  height: 500,\n  width: 800,\n  margin: 50\n})"
  },
  {
    "objectID": "slides/introduction.html#diversification-des-donn√©es-24-1",
    "href": "slides/introduction.html#diversification-des-donn√©es-24-1",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Diversification des donn√©es (2/4)",
    "text": "Diversification des donn√©es (2/4)\n\nDonn√©es g√©olocalis√©es\n\n\nDonn√©es tabulaires avec une dimension spatiale suppl√©mentaire\n\nDimension g√©ographique prend des formes multiples:\nPoints, lignes, polygones‚Ä¶\n\n\n\n\n tr√®s bien outill√© pour ces donn√©es (si volum√©trie adapt√©e)"
  },
  {
    "objectID": "slides/introduction.html#diversification-des-donn√©es-34",
    "href": "slides/introduction.html#diversification-des-donn√©es-34",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Diversification des donn√©es (3/4)",
    "text": "Diversification des donn√©es (3/4)\n\nDonn√©es textuelles et non structur√©es\n\n\nTechniques statistiques anciennes (Levenshtein 1957, perceptron) ;\n\n\n\nApplications limit√©es jusqu‚Äôaux ann√©es 2010 ;\n\n\n\n\nD√©veloppement tr√®s rapide de la recherche :\n\nCollecte accrue : r√©seaux sociaux, enqu√™tes‚Ä¶\nBaisse co√ªts stockage & augmentation ressources traitement ;\nNouvelles techniques statistiques: webscraping, LLM‚Ä¶\n\n\n\n\n\nUtilisation intensive dans l‚Äôadministration, la recherche et le secteur priv√©\n\nPlus d‚Äôinfos dans mon cours sur les donn√©es √©mergentes"
  },
  {
    "objectID": "slides/introduction.html#diversification-des-donn√©es-44",
    "href": "slides/introduction.html#diversification-des-donn√©es-44",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Diversification des donn√©es (4/4)",
    "text": "Diversification des donn√©es (4/4)\nImages, sons et vid√©os\n\nPlus d‚Äôinfos dans mon cours sur les donn√©es √©mergentes"
  },
  {
    "objectID": "slides/introduction.html#apparition-de-nouveaux-acteurs",
    "href": "slides/introduction.html#apparition-de-nouveaux-acteurs",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Apparition de nouveaux acteurs",
    "text": "Apparition de nouveaux acteurs\n\nActeurs classiques:\n\nInstituts statistiques (INSEE et SSM1) ;\nAdministrations centrales (DGFiP, DINUM‚Ä¶) ou op√©rateurs (IGN‚Ä¶)\nPlus de d√©tails √† venir\n\n\n\n\nCollectivit√©s locales (exemple: Open data Paris)\n\n\n\n\nProjets contributifs: OpenStreetMap, Wikidata, OpenFoodFacts‚Ä¶\n\n\n\n\nActeurs priv√©s:\n\nCollectent des donn√©es sur leurs utilisateurs/clients (extrapolation possible?)\nPeuvent mettre √† disposition ces donn√©es √† d‚Äôautres acteurs (chercheurs par exemple)\nCadre r√©glementaire: RGPD\n\n\n\nLe service statistique public est constitu√© de l‚ÄôInsee et des 16 services statistiques minist√©riels (SSM)"
  },
  {
    "objectID": "slides/introduction.html#acc√®s-de-plus-en-plus-direct-√†-la-donn√©e",
    "href": "slides/introduction.html#acc√®s-de-plus-en-plus-direct-√†-la-donn√©e",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Acc√®s de plus en plus direct √† la donn√©e",
    "text": "Acc√®s de plus en plus direct √† la donn√©e\n\nEre de l‚Äôopen data et open source :\n\nMouvement acc√©l√©r√© depuis l‚Äô√©lection Obama 2008\nCr√©ation Etalab en 2011 ;\nLoi pour une r√©publique num√©rique 2016\n\n\n\n\nChangements technologiques et culturels :\n\nFormats ouverts et standardis√©s ;\nSucc√®s des langages open source (notamment Python  et R )\nAcculturation aux API"
  },
  {
    "objectID": "slides/introduction.html#data-is-everywhere",
    "href": "slides/introduction.html#data-is-everywhere",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Data is everywhere",
    "text": "Data is everywhere"
  },
  {
    "objectID": "slides/introduction.html#linsee",
    "href": "slides/introduction.html#linsee",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "L‚ÄôInsee",
    "text": "L‚ÄôInsee\n\nCollecte, produit, analyse et diffuse l‚Äôinformation statistique :\n\nProducteur de statistiques (enqu√™tes, donn√©es administratives) ;\nProducteur d‚Äô√©tudes pour le d√©bat public (rare chez les instituts statistiques)\n\n\n\n\nPublie √©norm√©ment d‚Äôinformations:\n\nRecensement, taux de ch√¥mage, inflation, PIB, fichier des pr√©noms‚Ä¶\nCode officiel g√©ographique (COG) et zonages d‚Äô√©tudes\n\n\n\n\n\nR√¥le de coordination du service statistique public:\n\nInstituts statistiques minist√©riels: DREES (Sant√©), DARES (Travail)‚Ä¶\n\n\n\n\n\nDiffusion donn√©es sur insee.fr\n\nUtilisateurs de : acc√®s facilit√© via des packages"
  },
  {
    "objectID": "slides/introduction.html#lign",
    "href": "slides/introduction.html#lign",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "L‚ÄôIGN",
    "text": "L‚ÄôIGN\n\nProduit et diffuse la g√©om√©trie du territoire national et l‚Äôoccupation du sol:\n\nProducteur de cartes ü•æ (top25‚Ä¶)\nLIDAR\n\n\n\n\nProducteur des fonds de carte utiles pour nous:\n\nBDTopo, BD For√™t,\nAdminExpress\n\n\n\n\n\nDiffusion donn√©es depuis geoservices de l‚ÄôIGN (en attendant la geoplateforme)\n\nUtilisateurs de : acc√®s facilit√© √† certaines sources via cartiflette"
  },
  {
    "objectID": "slides/introduction.html#data.gouv",
    "href": "slides/introduction.html#data.gouv",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "data.gouv",
    "text": "data.gouv\n\nPlateforme de l‚Äôopen data en France\n\nCr√©e par Etalab (DINUM) en 2011\n\n\n\n\nRecense des jeux de donn√©es produits par les acteurs publics:\n\nAdministrations centrales\nCollectivit√©s locales\n\n\n\n\n\nMise √† disposition directe de certains jeux de donn√©es\n\n\n\n\nRecense des r√©utilisations"
  },
  {
    "objectID": "slides/introduction.html#github-fa-brands-github-l√†-o√π-on-trouve-du-code",
    "href": "slides/introduction.html#github-fa-brands-github-l√†-o√π-on-trouve-du-code",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Github : l√† o√π on trouve du code",
    "text": "Github : l√† o√π on trouve du code\n\nPlateforme de mise √† disposition de code\n\n\n\nBeaucoup plus que seulement du code:\n\nDocumentation de projets\nSites web\n\n\n\n\n\nLieu de l‚Äôopen source et de la recherche transparente"
  },
  {
    "objectID": "slides/introduction.html#observable-the-new-place-to-be",
    "href": "slides/introduction.html#observable-the-new-place-to-be",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Observable: the new place to be",
    "text": "Observable: the new place to be\n\nPlateforme de dataviz web\n\nCr√©√©e par Mike Bostock (dieu dans la dataviz)\n\n\n\n\nEmergence r√©cente mais forte dynamique\n\nTr√®s compl√©mentaire √† R\n\n\n\n\n\nInvestie par des cartographes qui font de super visualisations :\n\nNicolas Lambert\nEric Mauvi√®re\nThomas Ansart"
  },
  {
    "objectID": "slides/introduction.html#des-m√©tiers-multiples-dans-ladministration",
    "href": "slides/introduction.html#des-m√©tiers-multiples-dans-ladministration",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Des m√©tiers multiples dans l‚Äôadministration",
    "text": "Des m√©tiers multiples dans l‚Äôadministration\n\n\n\n\n\n\n\nmais aussi data engineer, data architect, data analyst‚Ä¶\ncf.¬†Rapport INSEE-DINUM ‚Äú√âvaluation des besoins de l‚Äô√âtat en comp√©tences et expertises en mati√®re de donn√©e‚Äù\n\n\n\n\nhttps://www.numerique.gouv.fr/uploads/RAPPORT-besoins-competences-donnee.pdf"
  },
  {
    "objectID": "slides/introduction.html#le-tournant-num√©rique-des-sciences-sociales",
    "href": "slides/introduction.html#le-tournant-num√©rique-des-sciences-sociales",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Le tournant num√©rique des sciences sociales",
    "text": "Le tournant num√©rique des sciences sociales\n\nAcc√®s facilit√© √† des donn√©es spatialis√©es ;\nAcculturation aux SIG et langages statistiques ;\nD√©veloppement de technologies web interactives (observable)\n\n\n\n\nR√©f√©rences\n\n\nRoth Camille. 2019. ‚ÄúDigital, Digitized, and Numerical Humanities.‚Äù Digital Scholarship in the Humanities\nAsh J, Kitchin R, Leszczynski A. 2018. ‚ÄúDigital turn, digital geographies ?‚Äù Progress in Human Geography\nEinav, L., & Levin, J. (2014). Economics in the age of big data. Science, 346(6210), 1243089."
  },
  {
    "objectID": "slides/introduction.html#le-tournant-num√©rique-des-sciences-sociales-1",
    "href": "slides/introduction.html#le-tournant-num√©rique-des-sciences-sociales-1",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Le tournant num√©rique des sciences sociales",
    "text": "Le tournant num√©rique des sciences sociales\n\nWe live life in the network. We check our e-mails regularly, make mobile phone calls from almost any location, swipe transit cards to use public transportation,and make purchases with credit cards. Our movements in public places may be captured by video cameras, and our medical records stored as digital files. We may post blog entries accessible to anyone, or maintain friendships through online social networks. Each of these transactions leaves digital traces that can be compiled into comprehensive pictures of both individual and group behavior, with the potential to transform our understanding of our lives, organizations, and societies.\nLazer et al.¬†,Computational Social Science, Science (2009)"
  },
  {
    "objectID": "slides/introduction.html#la-g√©ographie-quantitative",
    "href": "slides/introduction.html#la-g√©ographie-quantitative",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "La g√©ographie quantitative",
    "text": "La g√©ographie quantitative\n\nUne des premi√®res cartes statistiques (1798)"
  },
  {
    "objectID": "slides/introduction.html#la-g√©ographie-quantitative-1",
    "href": "slides/introduction.html#la-g√©ographie-quantitative-1",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "La g√©ographie quantitative",
    "text": "La g√©ographie quantitative\n\nJohn Snow cartographie le chol√©ra √† Londres"
  },
  {
    "objectID": "slides/introduction.html#ann√©es-1950-1960-r√©volution-quantitative",
    "href": "slides/introduction.html#ann√©es-1950-1960-r√©volution-quantitative",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Ann√©es 1950-1960 : r√©volution quantitative",
    "text": "Ann√©es 1950-1960 : r√©volution quantitative\n\nEverything is related to everything else, but near things are more related than distant things.\nW. Tobler, 1970, Economic Geography\n\n\nUne science nomoth√©tique : recherche des lois g√©n√©rales de l‚Äôorganisation de l‚Äôespace\n\n\n\nUne science explicative : mod√©lisation\n\nMod√®le de Christaller\n\n\n\n\n\nUne science appliqu√©e : essor de la regional science, de l‚Äô√©conom√©trie spatiale\n\nLoi de Zipf‚Ä¶)\n\n\n\n\n\nUne science de l‚Äôinformation (d√©j√†):\n\nS√©miologie (carto)graphique de Bertin, 1967"
  },
  {
    "objectID": "slides/introduction.html#ann√©es-2010-tournant-digital-de-la-g√©ographie-quantitative",
    "href": "slides/introduction.html#ann√©es-2010-tournant-digital-de-la-g√©ographie-quantitative",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Ann√©es 2010 : tournant ‚Äúdigital‚Äù de la g√©ographie quantitative",
    "text": "Ann√©es 2010 : tournant ‚Äúdigital‚Äù de la g√©ographie quantitative\n\nQuantification de masse de ph√©nom√®nes spatiaux sociaux:\n\nD√©placements, lieux fr√©quent√©s‚Ä¶\n\n\n\n\nIntersection avec d‚Äôautres sciences : data science, CSS\n\nExemple: le RIATE\n\n\n\n\n\nArribas-Bel, D, 2018. ‚ÄúGeography and Computers: Past, Present, and Future‚Äù Geography Compass."
  },
  {
    "objectID": "slides/introduction.html#principe-dun-langage-open-source",
    "href": "slides/introduction.html#principe-dun-langage-open-source",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Principe d‚Äôun langage open source",
    "text": "Principe d‚Äôun langage open source\n\n\n\n\n\n\nPrincipe g√©n√©ral\n\n\n\n\n\n\n\nIllustration avec R"
  },
  {
    "objectID": "slides/introduction.html#quest-ce-que-r",
    "href": "slides/introduction.html#quest-ce-que-r",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Qu‚Äôest-ce que R ?",
    "text": "Qu‚Äôest-ce que R ?\n\nLogiciel statistique open source:\n\nLangage de base\nPackages √©tendent les fonctionnalit√©s\n\n\n\n\nAdoption importante dans le monde acad√©mique et l‚Äôadministration\n\n\n\n\nBeaucoup de ressources d‚Äôaide en ligne\n\n\n\n\n\n\n\nNote\n\n\n\nNaissance dans les ann√©es 1990 ;\nSucc√®s depuis les ann√©es 2010 (succ√®s parall√®le √† Python)"
  },
  {
    "objectID": "slides/introduction.html#un-logiciel-couteau-suisse",
    "href": "slides/introduction.html#un-logiciel-couteau-suisse",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Un logiciel couteau-suisse",
    "text": "Un logiciel couteau-suisse\n\nManipulation de donn√©es de tout type ;\n\n\n\nVisualisation de donn√©es (dataviz), cartographie & SIG ;\n\n\n\n\nMod√©lisation (machine learning, analyse de r√©seaux‚Ä¶) ;\n\n\n\n\nR√©daction de m√©moires, de site web, de slides (comme celles-ci ü§ì)‚Ä¶"
  },
  {
    "objectID": "slides/introduction.html#un-logiciel-couteau-suisse-1",
    "href": "slides/introduction.html#un-logiciel-couteau-suisse-1",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Un logiciel couteau-suisse",
    "text": "Un logiciel couteau-suisse\nOn peut tout faire en R:\n\nExtrait de R for data science (la bible)"
  },
  {
    "objectID": "slides/introduction.html#transparence-et-reproductibilit√©",
    "href": "slides/introduction.html#transparence-et-reproductibilit√©",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Transparence et reproductibilit√©",
    "text": "Transparence et reproductibilit√©\n\nTra√ßabilit√© des statistiques et r√©alisations graphiques\n\n\n\nPartage de code R permet une transparence m√©thodologique:\n\nDe plus en plus de journaux exigent les codes !\nEncore des progr√®s √† faire dans le domaine\n\n\n\n\n\nL‚Äôutilisation de R Markdown rend plus efficace üê¢üîúüêá:\n\nSuppression des fichiers interm√©diaires (texte, excel, images‚Ä¶)\nGain de temps sur la mise en page (des millions d‚Äôheures √©conomis√©es au bas mot)\n\n\n\n\n\n\n\n\nNote\n\n\nVoir cours d√©di√© sur le sujet des bonnes pratiques (Insee tr√®s impliqu√©e sur le sujet!)"
  },
  {
    "objectID": "slides/introduction.html#une-communaut√©-dutilisateurs",
    "href": "slides/introduction.html#une-communaut√©-dutilisateurs",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Une communaut√© d‚Äôutilisateurs",
    "text": "Une communaut√© d‚Äôutilisateurs\n\nUn logiciel opensource :\n\nGratuit, collaboratif\n\n\n\n\nBeaucoup de packages:\n\nsur le CRAN (The Comprehensive R Archive Network)\nsur Github\n\n\n\n\n\nUne communaut√© d‚Äôid√©alistes de la science ouverte\n\n\n\n\nUn pont vers les autres disciplines : sociologie, √©conomie, biologie, sciences politiques etc."
  },
  {
    "objectID": "slides/introduction.html#le-ssp-cloud-cest-quoi",
    "href": "slides/introduction.html#le-ssp-cloud-cest-quoi",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Le SSP Cloud, c‚Äôest quoi ?",
    "text": "Le SSP Cloud, c‚Äôest quoi ?"
  },
  {
    "objectID": "slides/introduction.html#le-ssp-cloud-cest-quoi-1",
    "href": "slides/introduction.html#le-ssp-cloud-cest-quoi-1",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Le SSP Cloud, c‚Äôest quoi ?",
    "text": "Le SSP Cloud, c‚Äôest quoi ?\n\nDes serveurs h√©berg√©s √† l‚ÄôInsee avec de nombreux logiciels statistiques (dont R) dessus\nEnvironnement ouvert aux agents de l‚ÄôEtat et √† des formations en data science pour d√©couvrir et exp√©rimenter\nSeulement avec des donn√©es en open data\n\n\n\n\n\n\n\nNote\n\n\nPlus de d√©tails dans la documentation du SSP Cloud ou dans utilitR"
  },
  {
    "objectID": "slides/introduction.html#pourquoi-utiliser-le-ssp-cloud",
    "href": "slides/introduction.html#pourquoi-utiliser-le-ssp-cloud",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Pourquoi utiliser le SSP Cloud ?",
    "text": "Pourquoi utiliser le SSP Cloud ?\n\nP√©nible d‚Äôinstaller R, RStudio et une ribambelle de packages\nMise √† disposition d‚Äôun environnement standardis√©:\n\nTP parfaitement reproductibles\n\nUn TP peut √™tre lanc√© en un clic-bouton:\n\nExemple bouton TO DO"
  },
  {
    "objectID": "slides/introduction.html#cr√©er-un-compte",
    "href": "slides/introduction.html#cr√©er-un-compte",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Cr√©er un compte",
    "text": "Cr√©er un compte\n\nUtiliser votre adresse @ens.fr pour cr√©er un compte sur https://datalab.sspcloud.fr/\nVotre nom d‚Äôutilisateur ne doit contenir ni caract√®res accentu√©s, ni caract√®re sp√©cial, ni signe de ponctuation:\n\n\nVous pouvez adopter le format prenomnom en faisant attention aux r√®gles pr√©c√©dentes. Par exemple, si vous vous appelez J√©r√¥me-G√©rard L‚ÄôH√¢lt√®re, votre nom d‚Äôutilisateur pourra √™tre jeromegerardlhaltere."
  },
  {
    "objectID": "slides/introduction.html#lancer-un-service-rstudio",
    "href": "slides/introduction.html#lancer-un-service-rstudio",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Lancer un service RStudio",
    "text": "Lancer un service RStudio\nAide-m√©moire\n\nCliquer √† gauche sur Catalogue de service"
  },
  {
    "objectID": "slides/introduction.html#lancer-un-service-rstudio-1",
    "href": "slides/introduction.html#lancer-un-service-rstudio-1",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Lancer un service RStudio",
    "text": "Lancer un service RStudio\nAide-m√©moire\n\nLaisser les options par d√©faut de RStudio"
  },
  {
    "objectID": "slides/introduction.html#lancer-un-service-rstudio-2",
    "href": "slides/introduction.html#lancer-un-service-rstudio-2",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Lancer un service RStudio",
    "text": "Lancer un service RStudio\nAide-m√©moire\n\nR√©cup√©rer le mot de passe des services RStudio"
  },
  {
    "objectID": "slides/introduction.html#lancer-un-service-rstudio-3",
    "href": "slides/introduction.html#lancer-un-service-rstudio-3",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Lancer un service RStudio",
    "text": "Lancer un service RStudio\nAide-m√©moire\n\nAutre mani√®re de r√©cup√©rer le mot de passe des services RStudio"
  },
  {
    "objectID": "slides/introduction.html#lancer-un-service-rstudio-4",
    "href": "slides/introduction.html#lancer-un-service-rstudio-4",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Lancer un service RStudio",
    "text": "Lancer un service RStudio\nAide-m√©moire\n\nS‚Äôauthentifier sur le service"
  },
  {
    "objectID": "slides/introduction.html#linterface-rstudio",
    "href": "slides/introduction.html#linterface-rstudio",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "L‚Äôinterface RStudio",
    "text": "L‚Äôinterface RStudio\n\nIllustration emprunt√©e √† ce livre"
  },
  {
    "objectID": "slides/wrangling.html#chapitre-introductif",
    "href": "slides/wrangling.html#chapitre-introductif",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Chapitre introductif",
    "text": "Chapitre introductif\n\n\n\n\n\n\nNote\n\n\n\nExercices associ√©s √† ce chapitre ici\n\n\n\n\n\n\nRetour √† la page principale"
  },
  {
    "objectID": "slides/wrangling.html#introduction",
    "href": "slides/wrangling.html#introduction",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Introduction",
    "text": "Introduction\n\n centr√© autour du dataframe\n\n\n\nMais manipulations parfois un peu lourdes :\n\ndf$var: un peu lourd\ndf[,]: un peu trop calqu√© sur les matrices\n\n\n\n\n\nDonn√©es textuelles: une base perfectible\n\nDes outputs alambiqu√©s\nDes fonctionnalit√©s manquantes par rapport √† Python"
  },
  {
    "objectID": "slides/wrangling.html#la-r√©ponse-le-tidyverse",
    "href": "slides/wrangling.html#la-r√©ponse-le-tidyverse",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "La r√©ponse: le tidyverse !",
    "text": "La r√©ponse: le tidyverse !\n\nL‚Äô√©cosyst√®me du tidyverse"
  },
  {
    "objectID": "slides/wrangling.html#la-r√©ponse-le-tidyverse-1",
    "href": "slides/wrangling.html#la-r√©ponse-le-tidyverse-1",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "La r√©ponse: le tidyverse !",
    "text": "La r√©ponse: le tidyverse !\nUn ensemble de packages d√©velopp√©s par RStudio qui facilite :\n\nLa lecture (readr) et la manipulation de bases de donn√©es (dplyr)\nL‚Äôexploitation de donn√©es textuelles (stringr), temporelles (lubridate) ou cat√©gorielles (forcats)\nLa cr√©ation de graphiques (ggplot2)\nLa programmation √† partir de dataframes (purrr)\nEt bien d‚Äôautres choses‚Ä¶"
  },
  {
    "objectID": "slides/wrangling.html#le-concept-de-donn√©es-tidy",
    "href": "slides/wrangling.html#le-concept-de-donn√©es-tidy",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Le concept de donn√©es tidy",
    "text": "Le concept de donn√©es tidy\n\nChaque variable poss√®de sa propre colonne ;\nChaque observation poss√®de sa propre ligne ;\nUne valeur, mat√©rialisant une observation d‚Äôune variable, se trouve sur une unique cellule.\n\n\n\n\n\n\n\nNote\n\n\nConcept popularis√© par Hadley Wickham."
  },
  {
    "objectID": "slides/wrangling.html#readr",
    "href": "slides/wrangling.html#readr",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "readr",
    "text": "readr\n\n\nLe package pour lire des fichiers plats (.csv, .txt‚Ä¶)\nPermet d‚Äôobtenir un tibble, le dataframe augment√© du tidyverse"
  },
  {
    "objectID": "slides/wrangling.html#dplyr",
    "href": "slides/wrangling.html#dplyr",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "dplyr",
    "text": "dplyr\n\n\nLe package central de l‚Äô√©cosyst√®me de manipulation de donn√©es ;\nManipulation de donn√©es et statistiques descriptives ;"
  },
  {
    "objectID": "slides/wrangling.html#dplyr-1",
    "href": "slides/wrangling.html#dplyr-1",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "dplyr",
    "text": "dplyr\nPrincipaux verbes\nOn travaille sur un tibble (dataframe augment√©)\n\nselect() : s√©lectionner des variables par leur nom ;\nrename() : renommer des variables ;\nfilter() : s√©lectionner des observations selon une ou plusieurs conditions ;\narrange() : trier la table selon une ou plusieurs variables ;\nmutate() : ajouter des variables qui sont fonction d‚Äôautres variables ;\nsummarise() : calculer une statistique √† partir de donn√©es ;\ngroup_by() : faire des op√©rations par groupe.- `"
  },
  {
    "objectID": "slides/wrangling.html#dplyr-2",
    "href": "slides/wrangling.html#dplyr-2",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "dplyr",
    "text": "dplyr\nManipulation de donn√©es\nOn enchaine des s√©quences avec les pipe (%&gt;%)\n\nlibrary(doremifasol)\nlibrary(dplyr)\n\nbase_publique_equipements &lt;- telechargerDonnees(\"BPE_ENS\")\nbase_publique_equipements %&gt;%\n1  as_tibble() %&gt;%\n2  filter(TYPEQU == \"B316\") %&gt;%\n3  mutate(x = paste0(AN, \"_\", NB_EQUIP))\n\n\n1\n\nOn convertit le dataframe standard en tibble\n\n2\n\nOn ne garde que les stations services (valeurs B316 de TYPEQU)\n\n3\n\nOn cr√©e une nouvelle colonne en faisant r√©f√©rence √† celles existantes (sans guillemets!)\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\nPlus de d√©tails dans utilitR"
  },
  {
    "objectID": "slides/wrangling.html#dplyr-3",
    "href": "slides/wrangling.html#dplyr-3",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "dplyr",
    "text": "dplyr\nStatistiques agr√©g√©es\n\nLogique du split-apply-combine avec groupby\n\n\n\nIllustration du split-apply-combine\n\n\n\n\nlibrary(doremifasol)\nlibrary(dplyr)\n\nbase_publique_equipements &lt;- telechargerDonnees(\"BPE_ENS\")\nbase_publique_equipements %&gt;%\n1  as_tibble() %&gt;%\n2  filter(TYPEQU == \"B316\") %&gt;%\n3  group_by(DEP) %&gt;%\n4  summarise(nombre_station_serv = sum(NB_EQUIP, na.rm = TRUE))\n\n\n1\n\nOn convertit le dataframe standard en tibble\n\n2\n\nOn ne garde que les stations services (valeurs B316 de TYPEQU)\n\n3\n\nOn d√©finit DEP comme une variable de stratification pour d√©finir des groupes\n\n4\n\nOn r√©sume les donn√©es en faisant la somme des stations services dans chaque groupe"
  },
  {
    "objectID": "slides/wrangling.html#ggplot",
    "href": "slides/wrangling.html#ggplot",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "ggplot",
    "text": "ggplot\n\n\nLe package indispensable pour faire des graphiques ‚ù§Ô∏è ;\nApproche coh√©rente et flexible bas√©e sur la grammaire des graphiques\n\nObjet d‚Äôun chapitre d√©di√©"
  },
  {
    "objectID": "slides/wrangling.html#stringr-forcats-et-lubridate",
    "href": "slides/wrangling.html#stringr-forcats-et-lubridate",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "stringr, forcats et lubridate",
    "text": "stringr, forcats et lubridate\n\n  \n\n\nPlein de fonctions facilitant la manipulation:\n\nDonn√©es textuelles: stringr\nDonn√©es cat√©gorielles: forcats\nDonn√©es temporelles: lubridate"
  },
  {
    "objectID": "slides/wrangling.html#g√©n√©ralit√©s",
    "href": "slides/wrangling.html#g√©n√©ralit√©s",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "G√©n√©ralit√©s",
    "text": "G√©n√©ralit√©s\n\nDonn√©es peuvent √™tre stock√©es dans de nombreux formats diff√©rents\n\nStandards diff√©rents\nMani√®res d‚Äôimporter diff√©rentes\n\n\n\n\nFonctionnalit√©s de  limit√©es:\n\nPackages sp√©cialis√©s pour certains formats\nObjectif: applatir l‚Äôinformation dans un dataframe\n\n\n\n\n\n\n\n\nNote\n\n\nOn verra les formats g√©ographiques, et leurs enjeux, ult√©rieurement"
  },
  {
    "objectID": "slides/wrangling.html#le-csv",
    "href": "slides/wrangling.html#le-csv",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Le CSV",
    "text": "Le CSV\n\nFormat de fichier plat avec des colonnes d√©limit√©es:\n\nStandard: , en d√©limitateur, . en d√©cimale ;\nVariante europ√©enne üòÆ‚Äçüí®: ; en d√©limitateur, , en d√©cimale\n\nFormat universel, simple d‚Äôutilisation (quelques limites)\n\n\nviewof info_csv = Inputs.radio(\n  [\"Fichier brut\", \"Ficher apr√®s import\"], {value: \"Fichier brut\"}\n)\n\n\n\n\n\n\n\ninfo_csv == \"Fichier brut\" ? html`&lt;div&gt;${md_csv}&lt;div&gt;` : html`&lt;div&gt;${df_csv}&lt;div&gt;`\n\n\n\n\n\n\n\ndf_csv = Inputs.table(\n  d3.csvParse(raw_csv)\n)\nmd_csv = md`\n\\`\\`\\`\n${raw_csv}\n\\`\\`\\`\n`\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nraw_csv = `DEP,REG,CHEFLIEU,TNCC,NCC,NCCENR,LIBELLE\n01,84,01053,5,AIN,Ain,Ain\n02,32,02408,5,AISNE,Aisne,Aisne\n03,84,03190,5,ALLIER,Allier,Allier\n04,93,04070,4,ALPES DE HAUTE PROVENCE,Alpes-de-Haute-Provence,Alpes-de-Haute-Provence\n05,93,05061,4,HAUTES ALPES,Hautes-Alpes,Hautes-Alpes\n06,93,06088,4,ALPES MARITIMES,Alpes-Maritimes,Alpes-Maritimes\n`"
  },
  {
    "objectID": "slides/wrangling.html#le-csv-1",
    "href": "slides/wrangling.html#le-csv-1",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Le CSV",
    "text": "Le CSV\n\nLecture avec la fonction read_csv du package readr!\n\n\n1library(readr)\n2read_csv(\"dossier_donnees/nom_fichier.csv\")\n\n\n1\n\nOn importe la librairie readr pour avoir acc√®s √† la fonction read_csv\n\n2\n\nOn utilise read_csv pour lire les donn√©es stock√©es dans le chemin relatif dossier_donnees/nom_fichier.csv\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nCSV avec d√©limitateur ;: fonction read_csv2.\nFormats plats plus exotiques (.txt par exemple): read_delim\n\nPlus de d√©tails dans la documentation utilitR"
  },
  {
    "objectID": "slides/wrangling.html#le-json",
    "href": "slides/wrangling.html#le-json",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Le JSON",
    "text": "Le JSON\n\nLe format du web, notamment des API\n\nAPI: on verra √ßa plus tard\n\n\n\nviewof info_json = Inputs.radio(\n  [\"Fichier brut\", \"Ficher apr√®s import\"], {value: \"Fichier brut\"}\n)\n\n\n\n\n\n\n\ninfo_json == \"Fichier brut\" ? html`&lt;div&gt;${md_json}&lt;div&gt;` : html`&lt;div&gt;${df_json}&lt;div&gt;`\n\n\n\n\n\n\n\njson_string = `[\n  {\"DEP\": \"01\", \"REG\": \"84\", \"CHEFLIEU\": \"01053\", \"TNCC\": \"5\", \"NCC\": \"AIN\", \"NCCENR\": \"Ain\", \"LIBELLE\": \"Ain\"},\n  {\"DEP\": \"02\", \"REG\": \"32\", \"CHEFLIEU\": \"02408\", \"TNCC\": \"5\", \"NCC\": \"AISNE\", \"NCCENR\": \"Aisne\", \"LIBELLE\": \"Aisne\"},\n  {\"DEP\": \"03\", \"REG\": \"84\", \"CHEFLIEU\": \"03190\", \"TNCC\": \"5\", \"NCC\": \"ALLIER\", \"NCCENR\": \"Allier\", \"LIBELLE\": \"Allier\"},\n  {\"DEP\": \"04\", \"REG\": \"93\", \"CHEFLIEU\": \"04070\", \"TNCC\": \"4\", \"NCC\": \"ALPES DE HAUTE PROVENCE\", \"NCCENR\": \"Alpes-de-Haute-Provence\", \"LIBELLE\": \"Alpes-de-Haute-Provence\"},\n  {\"DEP\": \"05\", \"REG\": \"93\", \"CHEFLIEU\": \"05061\", \"TNCC\": \"4\", \"NCC\": \"HAUTES ALPES\", \"NCCENR\": \"Hautes-Alpes\", \"LIBELLE\": \"Hautes-Alpes\"},\n  {\"DEP\": \"06\", \"REG\": \"93\", \"CHEFLIEU\": \"06088\", \"TNCC\": \"4\", \"NCC\": \"ALPES MARITIMES\", \"NCCENR\": \"Alpes-Maritimes\", \"LIBELLE\": \"Alpes-Maritimes\"}\n]`\nraw_json = [\n  {\"DEP\": \"01\", \"REG\": \"84\", \"CHEFLIEU\": \"01053\", \"TNCC\": \"5\", \"NCC\": \"AIN\", \"NCCENR\": \"Ain\", \"LIBELLE\": \"Ain\"},\n  {\"DEP\": \"02\", \"REG\": \"32\", \"CHEFLIEU\": \"02408\", \"TNCC\": \"5\", \"NCC\": \"AISNE\", \"NCCENR\": \"Aisne\", \"LIBELLE\": \"Aisne\"},\n  {\"DEP\": \"03\", \"REG\": \"84\", \"CHEFLIEU\": \"03190\", \"TNCC\": \"5\", \"NCC\": \"ALLIER\", \"NCCENR\": \"Allier\", \"LIBELLE\": \"Allier\"},\n  {\"DEP\": \"04\", \"REG\": \"93\", \"CHEFLIEU\": \"04070\", \"TNCC\": \"4\", \"NCC\": \"ALPES DE HAUTE PROVENCE\", \"NCCENR\": \"Alpes-de-Haute-Provence\", \"LIBELLE\": \"Alpes-de-Haute-Provence\"},\n  {\"DEP\": \"05\", \"REG\": \"93\", \"CHEFLIEU\": \"05061\", \"TNCC\": \"4\", \"NCC\": \"HAUTES ALPES\", \"NCCENR\": \"Hautes-Alpes\", \"LIBELLE\": \"Hautes-Alpes\"},\n  {\"DEP\": \"06\", \"REG\": \"93\", \"CHEFLIEU\": \"06088\", \"TNCC\": \"4\", \"NCC\": \"ALPES MARITIMES\", \"NCCENR\": \"Alpes-Maritimes\", \"LIBELLE\": \"Alpes-Maritimes\"}\n]\nmd_json = md`\n\\`\\`\\`\n${json_string}\n\\`\\`\\`\n`\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ndf_json = Inputs.table(raw_json)"
  },
  {
    "objectID": "slides/wrangling.html#le-json-1",
    "href": "slides/wrangling.html#le-json-1",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Le JSON",
    "text": "Le JSON\n\nImport√© comme une liste hi√©rarchis√©e\nObjectif: transformer cette information dans un dataframe tidy\n\nPas toujours √©vident !\n\n\n\n1library(jsonlite)\n2df &lt;- fromJSON(file=\"dossier_donnees/nom_fichier.json\")\n\n\n1\n\nOn importe la librairie jsonlite pour avoir acc√®s √† la fonction fromJSON\n\n2\n\nOn utilise fromJSON pour lire les donn√©es stock√©es dans le chemin relatif dossier_donnees/nom_fichier.csv"
  },
  {
    "objectID": "slides/wrangling.html#les-formats-excel",
    "href": "slides/wrangling.html#les-formats-excel",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Les formats Excel",
    "text": "Les formats Excel"
  },
  {
    "objectID": "slides/wrangling.html#les-formats-excel-1",
    "href": "slides/wrangling.html#les-formats-excel-1",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Les formats Excel",
    "text": "Les formats Excel\n\nFormat propri√©taire\nM√©lange mise en forme et donn√©es brute\n\nPas appropri√© pour l‚Äôanalyse de donn√©es\nDangereux pour la reproductibilit√© et la transparence\n\nPlus de d√©tails sur utilitR"
  },
  {
    "objectID": "slides/wrangling.html#le-pipe-magrittr-1",
    "href": "slides/wrangling.html#le-pipe-magrittr-1",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Le pipe magrittr (%>%)",
    "text": "Le pipe magrittr (%&gt;%)\nUne mani√®re de cha√Æner les op√©rations\n\n\nFonctions emboit√©esAvec le pipe\n\n\nlibrary(dplyr)\nlibrary(doremifasol)\n\ndf &lt;- filter(\n  as_tibble(telechargerDonnees(\"BPE_ENS\")),\n  TYPEQU == \"B316\"\n)\n\nsummarise(\n  group_by(df, DEP),\n  nombre_station_serv = sum(NB_EQUIP, na.rm = TRUE)\n)\n\n\nlibrary(dplyr)\nlibrary(doremifasol)\n\ntelechargerDonnees(\"BPE_ENS\") %&gt;%\n  as_tibble() %&gt;%\n  filter(TYPEQU == \"B316\") %&gt;% \n  group_by(DEP) %&gt;% \n  summarise(nombre_station_serv = sum(NB_EQUIP, na.rm = TRUE)) \n\n\n\n\n\nIntroduction aux m√©thodes quantitatives avec , √âcole Normale Sup√©rieure (retour page principale)"
  },
  {
    "objectID": "slides/geospatial.html#chapitre-introductif",
    "href": "slides/geospatial.html#chapitre-introductif",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Chapitre introductif",
    "text": "Chapitre introductif\n\n\n\n\n\n\nNote\n\n\n\nExercices associ√©s √† ce chapitre ici\n\n\n\n\n\n\nRetour √† la page principale"
  },
  {
    "objectID": "slides/geospatial.html#introduction",
    "href": "slides/geospatial.html#introduction",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Introduction",
    "text": "Introduction\n\ndplyr facilite l‚Äôanalyse de donn√©es avec \n\n\n\nMais les donn√©es g√©ographiques sont plus complexes:\n\nDonn√©es classiques associ√©es √† des objets g√©om√©triques\nBesoin de faire des op√©rations g√©om√©triques (fusion, dissolution‚Ä¶)\n\n\n\n\n\nSIG offrent une approche coh√©rente pour ce type d‚Äôop√©ration\n\n peut se comporter comme un SIG !"
  },
  {
    "objectID": "slides/geospatial.html#la-r√©ponse-le-package-sf",
    "href": "slides/geospatial.html#la-r√©ponse-le-package-sf",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "La r√©ponse: le package sf !",
    "text": "La r√©ponse: le package sf !\n\n\n\nsf, une association de tables de donn√©es classiques √† des g√©om√©tries\n\n\n\n\n\nL‚Äô√©cosyst√®me du tidyverse"
  },
  {
    "objectID": "slides/geospatial.html#la-r√©ponse-le-package-sf-1",
    "href": "slides/geospatial.html#la-r√©ponse-le-package-sf-1",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "La r√©ponse: le package sf !",
    "text": "La r√©ponse: le package sf !\n\nExtension de dplyr pour les donn√©es spatiales\n\nVerbes dplyr fonctionnent de la m√™me mani√®re\nOp√©rations g√©om√©triques gr√¢ce √† GDAL en arri√®re plan\n\n\nUn tibble am√©lior√©:\n{fig-align = ‚Äúcenter‚Äù}"
  },
  {
    "objectID": "slides/geospatial.html#anatomie-dun-objet-sf",
    "href": "slides/geospatial.html#anatomie-dun-objet-sf",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Anatomie d‚Äôun objet sf",
    "text": "Anatomie d‚Äôun objet sf\nLes attributs\n\nValeurs associ√©es √† chaque niveau g√©ographique\n\nDonn√©e tabulaire classique\ndplyr fonctionne normalement\n\n\n\nimport {download_vectorfile} from \"@linogaliana/cartiflette-js\"\nbertin = require(\"bertin@latest\")\n\ndf = download_vectorfile({\n      \"value\": \"92\",\n      \"crs\": 4326,\n      \"borders\": \"COMMUNE\",\n      \"vectorfile_format\": \"geojson\",\n      \"filter_by\": \"DEPARTEMENT\",\n      \"source\": \"EXPRESS-COG-CARTO-TERRITOIRE\",\n      \"year\": 2022\n  })\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nInputs.table(\n  bertin.properties.table(df),\n  {columns: [\"NOM\",\"POPULATION\"]}\n)"
  },
  {
    "objectID": "slides/geospatial.html#anatomie-dun-objet-sf-1",
    "href": "slides/geospatial.html#anatomie-dun-objet-sf-1",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Anatomie d‚Äôun objet sf",
    "text": "Anatomie d‚Äôun objet sf\nLes g√©om√©tries\n\nValeurs num√©riques interpr√©t√©es pour repr√©senter la dimension g√©ographique\n\nPlusieurs types d‚Äôobjets: points, polygones, lignes‚Ä¶\nOp√©rations sur g√©om√©tries gr√¢ce √† sf\n\n\n\n\n\n\n\n\nIllustration de st_union\n\n\n\n\n\n\n\nIllustration de st_union"
  },
  {
    "objectID": "slides/geospatial.html#projection",
    "href": "slides/geospatial.html#projection",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Anatomie d‚Äôun objet sf",
    "text": "Anatomie d‚Äôun objet sf\nLe syst√®me de r√©f√©rence de l‚Äôobjet\n\n\n\n\nPosition sur terre \\(\\to\\) position dans le plan \nMultitude de projections (cf.¬†suite)\nGestion coh√©rente gr√¢ce √† sf\n\nUtilise les codes EPSG (4326, 2154‚Ä¶)\nD√©finition souvent automatique\nReprojections facilit√©es avec st_transform\n\n\n\n\n\nst_crs(communes_borders)\n\nCoordinate Reference System:\n  User input: WGS 84 \n  wkt:\nGEOGCRS[\"WGS 84\",\n    DATUM[\"World Geodetic System 1984\",\n        ELLIPSOID[\"WGS 84\",6378137,298.257223563,\n            LENGTHUNIT[\"metre\",1]]],\n    PRIMEM[\"Greenwich\",0,\n        ANGLEUNIT[\"degree\",0.0174532925199433]],\n    CS[ellipsoidal,2],\n        AXIS[\"geodetic latitude (Lat)\",north,\n            ORDER[1],\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n        AXIS[\"geodetic longitude (Lon)\",east,\n            ORDER[2],\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n    ID[\"EPSG\",4326]]"
  },
  {
    "objectID": "slides/geospatial.html#principe",
    "href": "slides/geospatial.html#principe",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Principe",
    "text": "Principe\n\n\n\nRepr√©sentation dans un plan (2D) d‚Äôune surface arrondie en 3D\nTh√©or√®me remarquable de Gauss: la surface de la Terre ne peut √™tre cartographi√©e sans distortion.\nMultitude de projections possibles\n\n\n\n\n\n\n\nExemple: projection de Mercator\n\n\nPr√©serve les angles mais ne conserve pas les surfaces et leurs proportions relatives (cf.¬†site thetruesize.com).\n\n\n\n\n\nhtml`&lt;div&gt;${container_projection}&lt;/div&gt;`\n\n\n\n\n\n\n\n\n\ncontainer_projection = html`&lt;div class=\"container\"&gt;\n  &lt;div class=\"row\"&gt;\n    &lt;div class=\"projection\"&gt;\n      &lt;div class=\"projection-label\"&gt;Choisir une projection&lt;/div&gt;\n      ${viewof projection}\n    &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;div class=\"row\"&gt;\n    &lt;div class=\"projectedMap\"&gt;\n      ${projectedMap}\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;`\n\n\n\n\n\n\n\nviewof projection = projectionInput({\n  name: \"\",\n  value: \"Mercator\"\n})\n\n\n\n\n\n\n\nimport {projectionInput} from \"@fil/d3-projections\"\nimport {map} from \"@linogaliana/base-map\"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nprojectedMap = map(projection,\n                   {\n                     //svg: true,\n                     value: projection.options,\n                     width: width_projected_map,\n                     //height: 300,\n                     //rotate: [0, -90],\n                     //inertia: true,\n                     show_equator: true,\n                     background: \"#f1f0eb\"\n                     \n                     //show_structure: true\n                   })\n\n\n\n\n\n\n\nwidth_projected_map = screen.width/4"
  },
  {
    "objectID": "slides/geospatial.html#web-mercator-wgs-84-4326",
    "href": "slides/geospatial.html#web-mercator-wgs-84-4326",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "(Web) Mercator / WGS 84 (4326)",
    "text": "(Web) Mercator / WGS 84 (4326)\n\n\n\nProjection la plus usuelle:\n\nSyst√®me GPS (position pr√©cise depuis des satellites gr√¢ce conservation des angles)\nFonds de carte web Google, OpenStreetMap‚Ä¶\n\nMais d√©forme les distances et superficies\n\n\n\n\n\n\n\nAstuce pour la France\n\n\n\nLongitude (\\(x\\)) tourne autour de 0¬∞ (de -5.2 √† +9.6 pour √™tre plus pr√©cis)\nLa latitude (\\(y\\)) autour de 45 (entre +41.3 √† +51.1)\n\nPlus de d√©tails\n\n\n\n\n\nsize = 400\nhtml`&lt;iframe width=\"${size}\" height=\"${size*1.15 + 50}\" frameborder=\"0\"   overflow-x = \"hidden\" overflow-Y=\"hidden\"\n  src=\"https://observablehq.com/embed/@neocartocnrs/impact-of-projections-on-areas?cells=map%2Cviewof+mycountry\"&gt;&lt;/iframe&gt;`"
  },
  {
    "objectID": "slides/geospatial.html#lambert-93-2154",
    "href": "slides/geospatial.html#lambert-93-2154",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "Lambert 93 (2154)",
    "text": "Lambert 93 (2154)\n\nProjection officielle pour la m√©tropole\n\nProjection conique\nD‚Äôautres Lambert pour les DROM\n\n\n\n\nOrthonorm√©e, centr√©e sur la m√©tropole\n\nOn peut faire des calculs de distance sur des coordonn√©es\nDistance en m√®tres = distance euclidienne (\\(\\sqrt{(x_1-x_2)^2+(y_1-y_2)^2}\\))\n\n\n\n\n\n\n\n\nAstuce pour la France\n\n\n\nCoordonn√©es \\(x\\): entre 100 000 et 1 300 000\nLa latitude (\\(y\\)): entre 6 000 000 et 7 200 000\n\nPlus de d√©tails"
  },
  {
    "objectID": "slides/geospatial.html#la-projection-de-spilhaus",
    "href": "slides/geospatial.html#la-projection-de-spilhaus",
    "title": "Introduction aux m√©thodes quantitatives avec ",
    "section": "La projection de Spilhaus",
    "text": "La projection de Spilhaus\nLe monde vu par les poissons üêüüê°üê†\n\nhtml`&lt;div class=\"centered\"&gt;${spilhaus}&lt;/div&gt;`\n\n\n\n\n\n\n\nspilhaus = {\n  const width = 600;\n  const height = width;\n\n  const context = DOM.context2d(width, height);\n  const projection = d3.geoStereographic()\n    .rotate([95, 45])\n    .translate([width / 2, height / 2])\n    .scale(width / 10.1)\n    .center([30, -5])\n    .clipAngle(166);\n  const path = d3.geoPath(projection, context);\n\n  const land = topojson.feature(world, world.objects.land);\n\n  context.lineJoin = \"round\";\n  context.lineCap = \"round\";\n  context.fillStyle = \"#f2f1ed\";\n  context.fillRect(0, 0, width, height);\n\n  context.beginPath();\n  path({type: \"Sphere\"});\n  path(land);\n  context.lineWidth = 0.5;\n  context.stroke();\n  context.clip(\"evenodd\");\n\n  context.save();\n  context.beginPath();\n  path(land);\n  context.filter = \"blur(12px)\";\n  context.fillStyle = \"#006994\";\n  context.fill(\"evenodd\");\n  context.restore();\n  \n  context.beginPath();\n  path(d3.geoGraticule10());\n  context.globalAlpha = 0.2;\n  context.strokeStyle = \"#000\";\n  context.stroke();\n\n  return context.canvas;\n}\n\n\n\n\n\n\n\n//import {map as spilhausmap} with {height, width} from \"@d3/spilhaus-shoreline-map\"\nimport { world } from \"@d3/spilhaus-shoreline-map\"\n\n\n\n\n\n\n\n\nIntroduction aux m√©thodes quantitatives avec , √âcole Normale Sup√©rieure (retour page principale)"
  },
  {
    "objectID": "exercises/geospatial-wrangling.html",
    "href": "exercises/geospatial-wrangling.html",
    "title": "Manipuler des donn√©es spatiales avec sf",
    "section": "",
    "text": "Dans ce TP, nous allons apprendre √† importer et manipuler des donn√©es spatiales avec .\nCe logiciel propose des fonctionnalit√©s tr√®s int√©ressantes pour ce type de donn√©es complexes qui le rendent capable de se comporter comme un SIG. Gr√¢ce √† la librairie sf, une extension de dplyr aux donn√©es spatiales, les donn√©es g√©ographiques pourront √™tre manipul√©es comme n‚Äôimporte quel type de donn√©es avec . La complexit√© induite par la dimension spatiale ne sera pas ressentie.\nSi vous √™tes int√©ress√©s par Python , une version tr√®s proche de ce TP est disponible dans mon cours de l‚ÄôENSAE.\nDans ce chapitre, nous allons utiliser les packages suivants:\nlibrary(units)\nlibrary(dplyr)\nlibrary(sf)\nlibrary(ggplot2)\nlibrary(mapsf)\nlibrary(leaflet)\nlibrary(cartiflette)\nCe chapitre illustre √† partir d‚Äôexemples pratiques certains principes centraux de l‚Äôanalyse de donn√©es:"
  },
  {
    "objectID": "exercises/geospatial-wrangling.html#d√©couverte-des-objets-g√©ographiques",
    "href": "exercises/geospatial-wrangling.html#d√©couverte-des-objets-g√©ographiques",
    "title": "Manipuler des donn√©es spatiales avec sf",
    "section": "1 D√©couverte des objets g√©ographiques",
    "text": "1 D√©couverte des objets g√©ographiques\nDans cette partie, nous utiliserons les fonds de carte de l‚ÄôIGN dont la mise √† disposition est facilit√©e par le projet cartiflette1.\n\n\n\n\n\n\nExercice 1: d√©couverte des objets g√©ographiques\n\n\n\nEn premier lieu, on r√©cup√®re des donn√©es g√©ographiques gr√¢ce au package cartiflette.\n\nUtiliser le code ci-dessous pour t√©l√©charger les donn√©es communales (produit Admin Express de l‚ÄôIGN) des d√©partements de la petite couronne (75, 92, 93 et 94) de mani√®re simplifi√©e gr√¢ce au package cartiflette:\n\n\n# 1. Chargement des donn√©es de cartiflette\ncommunes_borders &lt;- download_vectorfile_url_all(\n    crs = 4326,\n    values = c(\"75\", \"92\", \"93\", \"94\"),\n    borders=\"COMMUNE\",\n    vectorfile_format=\"geojson\",\n    filter_by=\"DEPARTEMENT\",\n    source=\"EXPRESS-COG-CARTO-TERRITOIRE\",\n    year=2022)\n\n\nRegarder les premi√®res lignes des donn√©es. Identifier la diff√©rence avec un dataframe standard.\n\n\n\nPremi√®res lignes des donn√©es\n\n\n\nSimple feature collection with 6 features and 12 fields\nGeometry type: POLYGON\nDimension:     XY\nBounding box:  xmin: 2.169349 ymin: 48.80894 xmax: 2.469851 ymax: 48.92685\nGeodetic CRS:  WGS 84\n                        ID              NOM            NOM_M INSEE_COM\n1 COMMUNE_0000000009736048            Paris            PARIS     75056\n2 COMMUNE_0000000009736037 Levallois-Perret LEVALLOIS-PERRET     92044\n3 COMMUNE_0000000009736055    Bois-Colombes    BOIS-COLOMBES     92009\n4 COMMUNE_0000000009736538         Malakoff         MALAKOFF     92046\n5 COMMUNE_0000000009736038           Clichy           CLICHY     92024\n6 COMMUNE_0000000009736052         Nanterre         NANTERRE     92050\n           STATUT POPULATION INSEE_CAN INSEE_ARR INSEE_DEP INSEE_REG\n1 Capitale d'√©tat    2165423        NR         1        75        11\n2  Commune simple      66082        16         2        92        11\n3  Commune simple      28841        11         2        92        11\n4  Commune simple      30950        18         1        92        11\n5  Commune simple      63089        09         2        92        11\n6      Pr√©fecture      96277        99         2        92        11\n           SIREN_EPCI                           source\n1           200054781 IGN:EXPRESS-COG-CARTO-TERRITOIRE\n2 200054781/200057982 IGN:EXPRESS-COG-CARTO-TERRITOIRE\n3 200054781/200057990 IGN:EXPRESS-COG-CARTO-TERRITOIRE\n4 200054781/200057966 IGN:EXPRESS-COG-CARTO-TERRITOIRE\n5 200054781/200057990 IGN:EXPRESS-COG-CARTO-TERRITOIRE\n6 200054781/200057982 IGN:EXPRESS-COG-CARTO-TERRITOIRE\n                        geometry\n1 POLYGON ((2.364204 48.8164,...\n2 POLYGON ((2.287395 48.90364...\n3 POLYGON ((2.266394 48.90629...\n4 POLYGON ((2.278183 48.81425...\n5 POLYGON ((2.303774 48.89415...\n6 POLYGON ((2.229099 48.90603...\n\n\n\n\nAfficher le crs de communes_borders. Ce dernier contr√¥le la transformation de l‚Äôespace tridimensionnel terrestre en une surface plane. Utiliser st_transform pour transformer les donn√©es en Lambert 93, le syst√®me officiel (code EPSG 2154).\n\n\nAfficher les communes des Hauts de Seine (d√©partement 92) et repr√©senter rapidement la carte.\n\n\nNe conserver que Paris et r√©pr√©senter les fronti√®res sur une carte : quel est le probl√®me pour une analyse de Paris intramuros?\n\nOn remarque rapidement le probl√®me. On ne dispose ainsi pas des limites des arrondissements parisiens, ce qui appauvrit grandement la carte de Paris.\n\nCette fois, utiliser l‚Äôargument borders=\"COMMUNE_ARRONDISSEMENT\" pour obtenir un fonds de carte consolid√© des communes avec les arrondissements dans les grandes villes. Convertir en Lambert 93.\n\n\n\n\n\nSi vous d√©sirez observer l‚Äôaspect de la carte du 92 (question 4), d√©roulez cette partie.\n\n\n\n\n\n\n\n\n\nCarte de Paris attendue √† la question 5 et √† la question 6\n\nA la question 5, Paris intra-muros est bien pauvre:\n\n\n\n\n\nA l‚Äôissue de la question 6, on a bien une carte de la petite couronne avec des arrondissements:"
  },
  {
    "objectID": "exercises/geospatial-wrangling.html#le-syst√®me-de-projection",
    "href": "exercises/geospatial-wrangling.html#le-syst√®me-de-projection",
    "title": "Manipuler des donn√©es spatiales avec sf",
    "section": "2 Le syst√®me de projection",
    "text": "2 Le syst√®me de projection\nUn concept central dans les logiciels de SIG est la notion de projection. L‚Äôexercice pr√©c√©dent imposait parfois certaines projections sans expliquer l‚Äôimportance de ces choix. , comme tout SIG, permet une gestion coh√©rente des projections.\nL‚Äôexercice suivant vise √† introduire aux principales fonctionnalit√©s de  √† ce propos. Il illustre les probl√®mes communs que peuvent rencontrer les g√©ographes dans la gestion des syst√®mes de projection.\nObservez les variations significatives de proportions pour certains pays selon les projections choisies:\n\nhtml`&lt;div&gt;${container_projection}&lt;/div&gt;`\n\n\n\n\n\n\n\ncontainer_projection = html`&lt;div class=\"container\"&gt;\n  &lt;div class=\"row\"&gt;\n    &lt;div class=\"projection\"&gt;\n      &lt;div class=\"projection-label\"&gt;Choisir une projection&lt;/div&gt;\n      ${viewof projection}\n    &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;div class=\"row\"&gt;\n    &lt;div class=\"projectedMap\"&gt;\n      ${projectedMap}\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;`\n\n\n\n\n\n\n\nviewof projection = projectionInput({\n  name: \"\",\n  value: \"Mercator\"\n})\n\n\n\n\n\n\n\nimport {projectionInput} from \"@fil/d3-projections\"\nimport {map} from \"@linogaliana/base-map\"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nprojectedMap = map(projection,\n                   {\n                     //svg: true,\n                     value: projection.options,\n                     width: width_projected_map,\n                     //height: 300,\n                     //rotate: [0, -90],\n                     //inertia: true,\n                     show_equator: true,\n                     background: \"#f1f0eb\"\n                     \n                     //show_structure: true\n                   })\n\n\n\n\n\n\n\nwidth_projected_map = screen.width/2\n\n\n\n\n\n\n\n\n\n\n\n\nExercice 2: Les projections, repr√©sentations et approximations\n\n\n\nVoici un code utilisant encore cartiflette pour r√©cup√©rer les fronti√®res fran√ßaises (d√©coup√©es par r√©gion):\n\nfrance &lt;- download_vectorfile_url_all(\n      values = \"metropole\",\n      crs = 4326,\n      borders = \"REGION\",\n      vectorfile_format=\"geojson\",\n      filter_by=\"FRANCE_ENTIERE\",\n      source=\"EXPRESS-COG-CARTO-TERRITOIRE\",\n      year=2022)\n\n\nS‚Äôamuser √† repr√©senter les limites de la France avec plusieurs projections:\n\n\nMercator WGS84 (EPSG: 4326)\nProjection healpix (+proj=healpix +lon_0=0 +a=1)\nProjection pr√©vue pour Tahiti (EPSG: 3304)\nProjection Albers pr√©vue pour Etats-Unis (EPSG: 5070)\n\n\nUtiliser la fonction st_area sur calculer la superficie en \\(km^2\\) des r√©gions fran√ßaises dans les deux syst√®mes de projection suivants: WGS84 (EPSG: 4326) et Lambert 93 (EPSG: 2154). Calculer la diff√©rence en \\(km^2\\) pour chaque r√©gion.\n\n\n\nAvec la question 1 illustrant quelques cas pathologiques, on comprend que les projections ont un effet d√©formant qui se voit bien lorsqu‚Äôon les repr√©sente c√¥te √† c√¥te sous forme de cartes :\n\n\n\n\nComparaison des projections\n\n\nFigure¬†1: ?(caption)\n\n\nCependant le probl√®me n‚Äôest pas que visuel, il est √©galement num√©rique. Les calculs g√©om√©triques am√®nent √† des diff√©rences assez notables selon le syst√®me de r√©f√©rence utilis√©.\n\n\nVoir le tableau des approximations pour chaque r√©gion\n\n\n\nSimple feature collection with 13 features and 4 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 99040 ymin: 6046546 xmax: 1242445 ymax: 7110479\nProjected CRS: RGF93 / Lambert-93\nFirst 10 features:\n                          NOM superficie_4326 superficie_2154         mismatch\n1                   Occitanie 73221.52 [km^2] 73405.65 [km^2] 184.13122 [km^2]\n2             Hauts-de-France 31843.17 [km^2] 32010.92 [km^2] 167.75210 [km^2]\n3                   Grand Est 57547.55 [km^2] 57704.28 [km^2] 156.72959 [km^2]\n4          Nouvelle-Aquitaine 84990.76 [km^2] 85093.94 [km^2] 103.18544 [km^2]\n5                   Normandie 30000.85 [km^2] 30103.70 [km^2] 102.84798 [km^2]\n6  Provence-Alpes-C√¥te d'Azur 31609.54 [km^2] 31676.26 [km^2]  66.71286 [km^2]\n7        Auvergne-Rh√¥ne-Alpes 70736.67 [km^2] 70797.01 [km^2]  60.34424 [km^2]\n8                    Bretagne 27393.22 [km^2] 27446.42 [km^2]  53.20734 [km^2]\n9     Bourgogne-Franche-Comt√© 47929.07 [km^2] 47980.51 [km^2]  51.44109 [km^2]\n10        Centre-Val de Loire 39419.19 [km^2] 39470.10 [km^2]  50.91416 [km^2]\n                         geometry\n1  MULTIPOLYGON (((449522.3 62...\n2  MULTIPOLYGON (((686066 6888...\n3  MULTIPOLYGON (((983336.7 67...\n4  MULTIPOLYGON (((374733.1 65...\n5  MULTIPOLYGON (((367887.8 68...\n6  MULTIPOLYGON (((961116.4 62...\n7  MULTIPOLYGON (((985059.5 65...\n8  MULTIPOLYGON (((174782.1 67...\n9  MULTIPOLYGON (((880572.7 67...\n10 MULTIPOLYGON (((604790.4 68...\n\n\n\nOn peut repr√©senter ces approximations sur une carte2 pour se faire une id√©e des r√©gions o√π l‚Äôerreur de mesure est la plus importante.\n\n\n\n\n\nFigure¬†2: Approximations li√©es au syst√®me de projection WGS 84\n\n\n\n\nCe type d‚Äôerreur de mesure est normal √† l‚Äô√©chelle du territoire fran√ßais. Les projections h√©rit√®res du Mercator d√©forment les distances, surtout lorqu‚Äôon se rapproche de l‚Äô√©quateur ou des p√¥les.\n\n\n\n\n\n(a) Exemple de reprojection de pays depuis le site thetruesize.com\n\n\n\n\n\n(b) ‚ÄúDon‚Äôt trust the Mercator projection‚Äù sur Reddit\n\n\nFigure¬†3: La projection Mercator, une vision d√©formante\n\n\nPour aller plus loin, la carte interactive suivante, construite par Nicolas Lambert, issue de ce notebook Observable, illustre l‚Äôeffet d√©formant de la projection Mercator, et de quelques unes autres, sur notre perception de la taille des pays.\n\n\nVoir la carte interactive\n\n\nhtml`&lt;div class=\"grid-container\"&gt;\n  &lt;div class=\"viewof-projection\"&gt;${viewof projectionBertin}&lt;/div&gt;\n  &lt;div class=\"viewof-mycountry\"&gt;${viewof mycountry}&lt;/div&gt;\n  &lt;div class=\"map-bertin\"&gt;${mapBertin}&lt;/div&gt;\n&lt;/div&gt;`\n\n\n\n\n\n\n\n\nimport {map as mapBertin, viewof projection as projectionBertin, viewof mycountry} from \"@neocartocnrs/impact-of-projections-on-areas\"\n\n\n\n\n\n\nIl n‚Äôest donc pas suprenant que nos d√©formations soient exacerb√©es aux extr√®mes du territoire m√©tropolitain. Si les approximations sont l√©g√®res sur de petits territoires, les erreurs peuvent √™tre non n√©gligeables √† l‚Äô√©chelle de la France.\nIl faut donc syst√©matiquement repasser les donn√©es dans le syst√®me de projection Lambert 93 (le syst√®me officiel pour la m√©tropole) avant d‚Äôeffectuer des calculs g√©om√©triques."
  },
  {
    "objectID": "exercises/geospatial-wrangling.html#utiliser-des-donn√©es-g√©ographiques-comme-des-couches-graphiques",
    "href": "exercises/geospatial-wrangling.html#utiliser-des-donn√©es-g√©ographiques-comme-des-couches-graphiques",
    "title": "Manipuler des donn√©es spatiales avec sf",
    "section": "3 Utiliser des donn√©es g√©ographiques comme des couches graphiques",
    "text": "3 Utiliser des donn√©es g√©ographiques comme des couches graphiques\nSouvent, le d√©coupage communal ne sert qu‚Äôen fond de cartes, pour donner des rep√®res. En compl√©ment de celui-ci, on peut d√©sirer exploiter un autre jeu de donn√©es.\nOn va partir des donn√©es de localisation des stations velib, disponibles sur le site d‚Äôopen data de la ville de Paris et requ√™tables directement en utilisant un URL\n\nurl &lt;- \"https://opendata.paris.fr/explore/dataset/velib-emplacement-des-stations/download/?format=geojson&timezone=Europe/Berlin&lang=fr\"\n\nDans le prochain exercice, nous proposons de cr√©er rapidement une carte comprenant trois couches:\n\nLes localisations de stations sous forme de points ;\nLes bordures des communes et arrondissements pour contextualiser ;\nLes bordures des d√©partements en traits plus larges pour contextualiser √©galement.\n\nNous irons plus loin dans le travail cartographique dans le prochain chapitre. Mais √™tre en mesure de positionner rapidement ses donn√©es sur une carte est toujours utile dans un travail exploratoire.\nEn amont de l‚Äôexercice, utiliser la fonction suivante du package cartiflette pour r√©cup√©rer le fonds de carte des d√©partements de la petite couronne:\n\nidf &lt;- download_vectorfile_url_all(\n      values = \"11\",\n      crs = 4326,\n      borders = \"DEPARTEMENT\",\n      vectorfile_format=\"geojson\",\n      filter_by=\"REGION\",\n      source=\"EXPRESS-COG-CARTO-TERRITOIRE\",\n      year=2022)\npetite_couronne_departements &lt;- idf %&gt;%\n  filter(INSEE_DEP %in% c(\"75\",\"92\",\"93\",\"94\"))\n\n\n\n\n\n\n\nExercice 3: importer et explorer les donn√©es velib\n\n\n\nOn commence par r√©cup√©rer les donn√©es n√©cessaires √† la production de cette carte.\n\nEn utilisant l‚ÄôURL pr√©c√©dent, importer les donn√©es velib sous le nom station\nV√©rifier la projection g√©ographique de station (attribut crs). Si celle-ci est diff√©rente des donn√©es communales, reprojeter ces derni√®res dans le m√™me syst√®me de projection que les stations de v√©lib\nNe conserver que les 50 principales stations (variable capacity)\n\nOn peut maintenant construire la carte de mani√®re s√©quentielle avec ggplot\n\nEn premier lieu, gr√¢ce √† geom_sf, repr√©senter exclusivement les positions des stations et ajuster la taille en fonction de la variable capacity\nAjouter la couche des communes d‚Äôarrondissements et des communes\n\nComme ces limites administratives sont stock√©es dans un dataframe diff√©rent, il va falloir utiliser l‚Äôargument data\nUtiliser fill = \"transparent\" pour que l‚Äôint√©rieur du polygone ne masque pas nos points\n\nAjouter la couche des d√©partements\nEn supposant que votre objet ggplot s‚Äôappelle carte, vous pouvez utiliser le code suivant pour am√©liorer rapidement l‚Äôesth√©tique\n\ncarte +\n  theme_void() +\n  theme(legend.position = \"bottom\") +\n  guides(color = \"none\", size = guide_legend(title.position=\"top\", title.hjust = 0.5)) +\n  labs(size = \"Capacit√© de la station\", title = \"Les 50 principales stations de v√©lib\")\n\n\n\n\nLes stations plac√©es sur un plan, √† l‚Äôissue de la question 4\n\n\n\n\n\n\n\n\n\nAjout d‚Äôune couche d‚Äôarrondissements (question 5)\n\n\n\n\n\n\n\n\n\nAjout de la couche des d√©partements (question 6)\n\n\n\n\n\n\n\nLa carte finalis√©e (question 7), obtenue gr√¢ce √† une demi-douzaine de lignes de code seulement, est ainsi:"
  },
  {
    "objectID": "exercises/geospatial-wrangling.html#jointures-spatiales",
    "href": "exercises/geospatial-wrangling.html#jointures-spatiales",
    "title": "Manipuler des donn√©es spatiales avec sf",
    "section": "4 Jointures spatiales",
    "text": "4 Jointures spatiales\nLes jointures attributaires fonctionnent comme avec un tibble classique. Pour conserver un objet spatial in fine, il faut faire attention √† utiliser en premier (base de gauche) l‚Äôobjet sf. En revanche, l‚Äôun des int√©r√™ts des objets sf est qu‚Äôon peut √©galement faire une jointure sur la dimension spatiale gr√¢ce √† plusieurs fonctions. Les jointures les plus communes sont:\n\n\n\n\n\n\n\nFonction\nOp√©ration\n\n\n\n\nst_intersects()\nQuelles g√©om√©tries de x intersectent celles de y ?\n\n\nst_contains()\nQuelles g√©om√©tries de x contiennent celles de y ?\n\n\nst_disjoint()\nQuelles g√©om√©tries de x sont disjointes √† celles de y ?\n\n\nst_is_within_distance()\nQuelles g√©om√©tries de x est √† moins de m/km de celles de y ?\n\n\n\nLa documentation √† laquelle se r√©f√©rer est ici. Une version p√©dagogique se trouve dans la documentation utilitR.\n\n\n\n\n\n\nExercice 4: Associer les stations aux communes et arrondissements auxquels elles appartiennent\n\n\n\nDans cet exercice, on va supposer que :\n\nles localisations des stations velib sont stock√©es dans un dataframe nomm√© stations\nles donn√©es administratives sont dans un dataframe nomm√© petite_couronne.\n\n\nFaire une jointure spatiale pour enrichir les donn√©es de stations en y ajoutant des informations de petite_couronne. Appeler cet objet stations_info\nCr√©er les objets stations_19e et arrondissement_19e pour stocker, respectivement, les stations appartenant au 19e et les limites de l‚Äôarrondissement\nRepr√©senter la carte des stations du 19e arrondissement avec le code suivant:\n\npetite_couronne %&gt;% filter(INSEE_DEP == 75) %&gt;%\n  ggplot() +\n    geom_sf(aes(fill = grepl(\"19e\", NOM)), alpha = 0.1) +\n    geom_sf(data = stations_19e, color = \"royalblue\") +\n    scale_fill_viridis_d() +\n    theme_void() +\n    theme(legend.position = \"none\")\n\nCompter le nombre de stations velib et le nombre de places velib par arrondissement ou commune. Repr√©senter sur une carte chacune des informations\nRepr√©senter les m√™mes informations mais en densit√© (diviser par la surface de l‚Äôarrondissement ou commune en km2)\n(optionnel) Choisir une des cartes de densit√© et la nettoyer (retirer les axes, mettre les titres‚Ä¶)\n\n\n\n\n\nLa carte obtenue sur la question 2\n\n\n\n\n\n\n\n\n\nUne version interactive produite avec leaflet, que nous d√©couvrirons prochainement.\n\n\n\n\n\n\n\n\n\n\nLa carte obtenue √† la question 3\n\n\n\n\n\n\n\nAvec la carte de la question 3, bas√©e sur des aplats de couleurs (choropleth map), le lecteur est victime d‚Äôune illusion classique. Les arrondissements les plus visibles sur la carte sont les plus grands. D‚Äôailleurs c‚Äôest assez logique qu‚Äôils soient √©galement mieux pourvus en velib. M√™me si l‚Äôoffre de velib est probablement plus reli√©e √† la densit√© de population et d‚Äô√©quipements, on peut penser que l‚Äôeffet taille joue et qu‚Äôainsi on est victime d‚Äôune illusion avec la carte pr√©c√©dente.\nSi on repr√©sente plut√¥t la capacit√© sous forme de densit√©, pour tenir compte de la taille diff√©rente des arrondissements, les conclusions sont invers√©es et correspondent mieux aux attentes d‚Äôun mod√®le centr-p√©riph√©rie. Les arrondissements centraux sont mieux pourvus, cela se voit encore mieux avec des ronds proportionnels plut√¥t qu‚Äôune carte chorol√®pthe.\n\n\n\n\n\n\n\n(a) Aplat de couleur\n\n\n\n\n\n\n\n(b) Ronds proportionnels\n\n\n\n\nFigure¬†4: Densit√© de velib dans l‚Äôagglom√©ration parisienne"
  },
  {
    "objectID": "exercises/geospatial-wrangling.html#exercice-suppl√©mentaire",
    "href": "exercises/geospatial-wrangling.html#exercice-suppl√©mentaire",
    "title": "Manipuler des donn√©es spatiales avec sf",
    "section": "5 Exercice suppl√©mentaire",
    "text": "5 Exercice suppl√©mentaire\nLes exercices pr√©c√©dents ont permis de se familiariser au traitement de donn√©es spatiales. N√©anmoins il arrive de devoir jongler plus avec la dimension g√©om√©trique par exemple pour changer d‚Äô√©chelle ou introduire des fusions/dissolutions de g√©om√©tries.\nImaginons que chaque utilisateur de velib se d√©place exclusivement vers la station la plus proche (√† supposer qu‚Äôil n‚Äôy a jamais p√©nurie ou surcapacit√©). Quelle est la carte de la couverture des v√©libs ? Pour r√©pondre √† ce type de question, on utilise fr√©quemment la la tesselation de Vorono√Ø, une op√©ration classique pour transformer des points en polygones. L‚Äôexercice suivant permet de se familiariser avec cette approche3.\n\n\n\n\n\n\nExercice 5: la tesselation de Vorono√Ø\n\n\n\nA l‚Äôaide de cet article, cr√©er progressivement votre tesselation de voronoi\n\nConstruire une enveloppe nomm√©e petite_couronne_limites en utilisant la fonction st_union sur notre fonds de carte des communes de la petite couronne\nCr√©er la tesselation de voronoi en ex√©cutant les √©tapes suivantes:\n\nNe conserver que les g√©om√©tries avec st_geometry\nChanger le type d‚Äôobjet sf sous-jacent avec st_union\nAppliquer la transformation avec st_voronoi\nTransformer √ßa en objet sf auquel on est plus coutumier avec st_collection_extract(type = \"POLYGON\") puis st_sf()\nAppliquer un masque pour couper les parties ext√©rieures √† la petite couronne avec st_intersection(petite_couronne_limites)\nJoindre √† nouveau aux donn√©es initiales avec st_join(stations_info) pour retrouver les attributs pr√©c√©dents\n\n\n\nDu fait de la densit√© des stations dans Paris intramuros, une carte au niveau global serait illisible. Il est plus pratique d‚Äôavoir une carte web dans laquelle il est possible de naviguer. Utiliser le code suivant pour g√©n√©rer cette carte avec leaflet:\n\n\nvoronoi_velib &lt;- voronoi %&gt;% st_transform(4326) %&gt;%\n  leaflet() %&gt;%\n  addTiles() %&gt;%\n  addPolygons(\n    fillOpacity = 0.1,\n    popup = ~paste0(name, \": \", capacity, \" v√©los disponibles\"),\n    stroke = TRUE, weight = 1)\n\n\n\nA vous d‚Äôobserver la zone de chalandise de la station la plus proche de chez vous :"
  },
  {
    "objectID": "exercises/geospatial-wrangling.html#footnotes",
    "href": "exercises/geospatial-wrangling.html#footnotes",
    "title": "Manipuler des donn√©es spatiales avec sf",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nLa librairie  est exp√©rimentale mais les prochaines semaines devraient permettre de combler ce manque. Une documentation interactive illustrant le code n√©cessaire pour reproduire telle ou telle carte est disponible sur linogaliana.github.io/cartiflette-website.‚Ü©Ô∏é\nCette carte n‚Äôest pas trop soign√©e, c‚Äôest normal nous verrons comment faire de belles cartes ult√©rieurement.‚Ü©Ô∏é\nDans ce document de travail sur donn√©es de t√©l√©phonie mobile, on montre n√©anmoins que cette approche n‚Äôest pas sans biais sur des ph√©nom√®nes o√π l‚Äôhypoth√®se de proximit√© spatiale est trop simplificatrice.‚Ü©Ô∏é"
  },
  {
    "objectID": "exercises/r-base.html",
    "href": "exercises/r-base.html",
    "title": "D√©couverte des objets de base de ",
    "section": "",
    "text": "Dans ce premier TP, nous allons rentrer tranquillement dans notre parcours de d√©couverte de .\nCela se fera par les √©tapes suivantes:"
  },
  {
    "objectID": "exercises/r-base.html#numeric",
    "href": "exercises/r-base.html#numeric",
    "title": "D√©couverte des objets de base de ",
    "section": "2.1 Les vecteurs num√©riques (numeric)",
    "text": "2.1 Les vecteurs num√©riques (numeric)\n\n2.1.1 Les deux types de vecteurs num√©riques\n propose diff√©rents types d‚Äôobjets num√©riques. Pour l‚Äôanalyse de donn√©es, nous allons principalement nous int√©resser principalement √† deux types :\n\nles entiers (type int pour integer)\nles nombres r√©els (type double pour nombres √† virgule flottante)\n\nEn pratique, les premiers sont un cas sp√©cial des seconds. Contrairement √† d‚Äôautres langages,  ne tente pas de contraindre de mani√®re automatique les nombres sans virgules √† √™tre des entiers (integers). C‚Äôest pratique mais sur de gros volumes de donn√©es √ßa peut poser probl√®me car les double sont plus lourds que les int.\nEn g√©n√©ral, on utilise la fonction class pour afficher le type d‚Äôun objet  et si on veut √™tre plus pr√©cis on peut utiliser typeof:\n\nclass(3)\ntypeof(3)\nclass(3.14)\ntypeof(3.14)\n\nLes fonctions as.numeric et as.integer peuvent √™tre utilis√©es pour convertir d‚Äôun type √† l‚Äôautre:\n\n# Conversion en int\nas.integer(3.79)\n\n[1] 3\n\n\n\n\n\n\n\n\nWarning\n\n\n\nAttention √† la conversion double \\(\\to\\) int, qui tronque la partie d√©cimale.\n\n# double -&gt; int -&gt; double\nas.numeric(\n    as.integer(3.79)\n)\n\n[1] 3\n\n\n\n\nLes floats peuvent √©galement √™tre √©crits en notation scientifique :\n\n2e3\n\n[1] 2000\n\nclass(2e3)\n\n[1] \"numeric\"\n\n\n\n\n2.1.2 Op√©rations arithm√©tiques de base\n\n\n\n\n\nComme tout langage informatique,  est avant tout une calculette. On est sauv√©, on peut donc faire des additions:\n\n# Addition\n8 + 9\n\n[1] 17\n\n\n\n\n\n\n\n\nNote\n\n\n\n est bien fait, il adapte le type des variables pour les mettre en coh√©rence lorsqu‚Äôelles peuvent l‚Äô√™tre:\n\n# Addition\n8.1 + as.integer(9)\n\n[1] 17.1\n\n\n\n\nOn a bien-s√ªr acc√®s √† d‚Äôautres op√©rations standards:\n\n# Soustraction\n5 - 2\n\n[1] 3\n\n# Multiplication\n2 * 6\n\n[1] 12\n\n# Division\n9 / 4\n\n[1] 2.25\n\n\nIl faut tout de m√™me faire attention √† la division par 0\n\n# Division par 0\n3 / 0\n\n[1] Inf\n\n-5 / 0\n\n[1] -Inf\n\n\n\n\n\n\n\n\nWarning\n\n\n\nCertains langages, comme Python, ne permettent pas la division par 0, ils renvoient une erreur plut√¥t qu‚ÄôInf. C‚Äôest un peu pi√©geux en R car cela peut arriver d‚Äôavoir des divisions par 0 sans qu‚Äôon s‚Äôen rende compte‚Ä¶\n\n\nComme toute calculette, on peut appliquer d‚Äôautres types d‚Äôop√©rations\n\n# Division euclidienne : quotient\n9 %/% 4\n\n[1] 2\n\n# Division euclidienne : reste\n9 %% 4\n\n[1] 1\n\n\n\n# Puissance\n2 ^ 5\n\n[1] 32\n\n# Racine carr√©e\nsqrt(5)\n\n[1] 2.236068\n\n# Log\nlog(2)\n\n[1] 0.6931472\n\n# Exponentielle\nexp(2)\n\n[1] 7.389056\n\n\nL‚Äôordre des op√©rations suit la convention usuelle:\n\n2 + 5 * (10 - 4)\n\n[1] 32\n\n\n\n\n2.1.3 Vectorisation\nSi on ne pouvait utiliser  qu‚Äôen mode calculette peu raffin√©e, √ßa ne serait pas un langage tr√®s int√©ressant pour l‚Äôanalyse de donn√©es. L‚Äôavantage principal de  est qu‚Äôon va pouvoir manipuler des vecteurs, c‚Äôest √† dire des suites de nombres. On va consid√©rer que les vecteurs sont des suites de nombres ordonn√©s en une seule colonne:\n\\[\n\\begin{bmatrix} x_1 \\\\ x_2 \\\\ \\vdots \\\\ x_n \\end{bmatrix}\n\\]\net on va appliquer des op√©rations sur chaque ligne de ces vecteurs. On parle de vectorisation des op√©rations pour d√©signer une op√©ration qui s‚Äôappliquera de mani√®re automatique √† chaque √©l√©ment de notre vecteur.\nPar exemple, la multiplication est vectorielle par d√©faut:\n\n5*c(1,20,2)\n\n[1]   5 100  10\n\n\nDe m√™me l‚Äôaddition, √† condition de mettre des vecteurs de taille coh√©rente:\n\nc(1,20,2) + c(21,2,20)\n\n[1] 22 22 22\n\nc(1,20,2) - 3\n\n[1] -2 17 -1\n\n\n\n\n\n\n\n\nWarning\n\n\n\nSi la taille des vecteurs n‚Äôest pas coh√©rente,  recycle le vecteur le plus petit jusqu‚Äô√† atteindre la bonne taille\n\nc(1,20,2) - c(1,20)\n\nWarning in c(1, 20, 2) - c(1, 20): longer object length is not a multiple of\nshorter object length\n\n\n[1] 0 0 1"
  },
  {
    "objectID": "exercises/r-base.html#characters",
    "href": "exercises/r-base.html#characters",
    "title": "D√©couverte des objets de base de ",
    "section": "2.2 Les cha√Ænes de caract√®res (characters)",
    "text": "2.2 Les cha√Ænes de caract√®res (characters)\nLes cha√Ænes de caract√®res (ou strings) sont utilis√©es pour stocker de l‚Äôinformation textuelle. Plus pr√©cis√©ment, elles peuvent stocker tout caract√®re de type Unicode, ce qui inclut les lettres des diff√©rentes langues, mais √©galement la ponctuation, les chiffres, les smileys, etc.\n\n2.2.1 Cr√©er un string\nPour cr√©er une chaine de caract√®res (string), on peut utiliser de mani√®re indiff√©rente les guillemets ou les apostrophes.\n\n1'mot'\n2\"√ßa fonctionne aussi\"\n\n\n1\n\nPremi√®re m√©thode: '\n\n2\n\nDeuxi√®me m√©thode (pr√©f√©rable): \"\n\n\n\n\n[1] \"mot\"\n[1] \"√ßa fonctionne aussi\"\n\n\n\n\n\n\n\n\nWarning\n\n\n\nAttention au m√©lange des deux !\n\nprint('l'apostrophe, quelle catastrophe')\n\nError: &lt;text&gt;:1:10: unexpected symbol\n1: print('l'apostrophe\n             ^\n\n\nLa deuxi√®me apostrophe est comprise comme la fin du string, et  ne sait pas interpr√©ter le reste de la s√©quence.\nIl faut donc varier en cas de besoin :\n\n11\"l'apostrophe, aucun probl√®me\"\n\n\n1\n\nCette fois, l‚Äôapostrophe ' est bien enchass√©e au sein des guillemets qui d√©limitent notre string.\n\n\n\n\n[1] \"l'apostrophe, aucun probl√®me\"\n\n\nCela fonctionne √©galement en sens inverse: les guillements sont bien interpr√©t√©s lorsqu‚Äôils sont entre apostrophes.\n\n'les guillemets, \"aucun probl√®me\"'\n\n[1] \"les guillemets, \\\"aucun probl√®me\\\"\"\n\n\nComme l‚Äôillustre la sortie ci-dessus, il est possible de bien d√©finir les caract√®res sp√©ciaux de cette sorte en les √©chappant avec des antislashs \\:\n\n1\"les guillemets, \\\"aucun probl√®me\\\"\"\n'l\\'apostrophe, aucun probl√®me'\n\n\n1\n\n\\ permet √†  de comprendre que l‚Äôapostrophe ou le guillemet fait partie de la chaine de caract√®re et non de sa d√©limitation.\n\n\n\n\n[1] \"les guillemets, \\\"aucun probl√®me\\\"\"\n[1] \"l'apostrophe, aucun probl√®me\"\n\n\n\n\n\n\n2.2.2 Quelques fonctions utiles\n propose par d√©faut un certain nombre de fonctions utiles pour extraire ou transformer des vecteurs textuels. On en d√©couvrira des plus pratiques et plus g√©n√©rales lorsqu‚Äôon se focalisera sur les donn√©es textuelles et le package stringr.\nLa fonction nchar permet de compter le nombre de caract√®res d‚Äôun string, tous caract√®res inclus (lettres, chiffres, espaces, ponctuation‚Ä¶).\n\nnchar(\"J'ai 19 charact√®res\")\n\n[1] 19\n\n\nIl ne faut pas la confondre avec la fonction length. Celle-ci nous donne la longueur du vecteur. Par exemple,\n\nlength(\"J'ai 19 charact√®res\")\n\n[1] 1\n\n\nest de taille 1 puisqu‚Äôon a un seul √©l√©ment dans notre vecteur. Si on prend un vecteur de plus grande dimension:\n\nlength(c(\"J'ai 19 charact√®res\", \"pas moi\"))\n\n[1] 2\n\n\nOn retrouve bien le nombre d‚Äô√©l√©ments de notre vecteur en sortie de length.\nnchar est une op√©ration vectorielle, on peut donc compter la longueur de chaque ligne de notre jeu de donn√©es:\n\nnchar(c(\"J'ai 19 charact√®res\", \"pas moi\"))\n\n[1] 19  7\n\n\nL‚Äôun des int√©r√™ts des fonctions de base de traitement des donn√©es textuelles est la possibilit√© de remettre en forme nos cha√Ænes de caract√®res de mani√®re automatique. Par exemple, l‚Äôop√©ration la plus simple est de changer la capitalisation de notre texte:\n\n1toupper(c(\"sequence 850\", \"Sequence 850\"))\n2tolower(c(\"SEQuEnce 850\", \"SEQUENCE 850\"))\n\n\n1\n\nMettre en majuscules tout le texte.\n\n2\n\nMettre en minuscules.\n\n\n\n\n[1] \"SEQUENCE 850\" \"SEQUENCE 850\"\n[1] \"sequence 850\" \"sequence 850\"\n\n\nMais on peut aussi nettoyer des chaines textuelles avec quelques fonctions de base :\n\nstrsplit(c(\"une s√©quence    √† s√©parer\", \"uneautre√†s√©parer\"), split = \" \")\n\n[[1]]\n[1] \"une\"      \"s√©quence\" \"\"         \"\"         \"\"         \"√†\"        \"s√©parer\" \n\n[[2]]\n[1] \"uneautre√†s√©parer\"\n\n\nA ce stade, la sortie obtenue, avec des [[]] peut vous para√Ætre √©trange car nous n‚Äôavons pas encore d√©couvert le type list.\nCe type de donn√©es n‚Äô√©tant pas forc√©ment pratique pour l‚Äôanalyse statistique, pour laquelle on pr√©f√®re des formats comme le vecteur, ce sera beaucoup plus pratique d‚Äôutiliser le package stringr pour faire un split.\nOn peut tout √† fait d√©couper notre string sur autre chose que les espaces!\n\nstrsplit(c(\"une s√©quence    √† s√©parer\", \"uneautre√†s√©parer\"), split = \"√†\")\n\n[[1]]\n[1] \"une s√©quence    \" \" s√©parer\"        \n\n[[2]]\n[1] \"uneautre\" \"s√©parer\" \n\n\nOn peut concat√©ner des chaines de caract√®re ensemble, c‚Äôest tr√®s pratique. Malheureusement le + ne fonctionne pas en R pour les chaines de caract√®res (contrairement √† Python). Pour effectuer cela on utilise paste ou paste0 (une version moins g√©n√©rale mais qui est pens√©e pour les concat√©nations simples):\n\npaste0(\n    \"La premi√®re fois qu'Aur√©lien vit B√©r√©nice,\",\n    \" \",\n    \"il la trouva franchement laide. Elle lui d√©plut, enfin.\",\n    \" \",\n    \"Il n'aima pas comment elle √©tait habill√©e.\"\n1)\n\npaste(\n    \"La premi√®re fois qu'Aur√©lien vit B√©r√©nice,\",\n    \"il la trouva franchement laide. Elle lui d√©plut, enfin.\",\n    \"Il n'aima pas comment elle √©tait habill√©e.\",\n    sep = \" \"\n2)\n\n\n1\n\nAvec paste0, on concat√®ne en accolant les strings, sans espace.\n\n2\n\nAvec paste, on peut choisir la mani√®re d‚Äôaccoler les strings, ici en mettant des espaces.\n\n\n\n\n[1] \"La premi√®re fois qu'Aur√©lien vit B√©r√©nice, il la trouva franchement laide. Elle lui d√©plut, enfin. Il n'aima pas comment elle √©tait habill√©e.\"\n[1] \"La premi√®re fois qu'Aur√©lien vit B√©r√©nice, il la trouva franchement laide. Elle lui d√©plut, enfin. Il n'aima pas comment elle √©tait habill√©e.\"\n\n\nOn peut utiliser les strings comme templates. C‚Äôest particuli√®rement pratique pour automatiquement cr√©er du texte √† partir de valeurs issues de nos donn√©es. Pour cela on utilise sprintf:\n\nsprintf(\"La premi√®re fois qu'%s vit %s\", \"Aur√©lien\", \"B√©r√©nice\")\n\n[1] \"La premi√®re fois qu'Aur√©lien vit B√©r√©nice\"\n\nsprintf(\"%s et %s font %s\", 2, 2, 2+2)\n\n[1] \"2 et 2 font 4\"\n\n\n%s sert √† d√©finir l‚Äôendroit o√π sera coll√© le texte voulu."
  },
  {
    "objectID": "exercises/r-base.html#logicals",
    "href": "exercises/r-base.html#logicals",
    "title": "D√©couverte des objets de base de ",
    "section": "2.3 Vecteurs logiques (logicals)",
    "text": "2.3 Vecteurs logiques (logicals)\nEn , les vecteurs logiques sont utilis√©s pour stocker des valeurs bool√©ennes, c‚Äôest-√†-dire des valeurs vraies (TRUE) ou fausses (FALSE).\nLes vecteurs logiques sont couramment utilis√©s pour effectuer des op√©rations de logique, des filtres de donn√©es et des s√©lections conditionnelles. Nous y reviendrons par la suite, nous les utiliserons fr√©quemment mais de mani√®re indirecte.\n\n15 &gt; 3\n22 == 2\n30 == (2 - 2)\n41 &lt; 0\n\n\n1\n\nTRUE, car 5 est sup√©rieur √† 3.\n\n2\n\nTRUE, car 2 est √©gal √† 2.\n\n3\n\nTRUE, le chainage des op√©rations est respect√©.\n\n4\n\nFALSE, car 1 n‚Äôest pas inf√©rieur √† 0.\n\n\n\n\n[1] TRUE\n[1] TRUE\n[1] TRUE\n[1] FALSE\n\n\nOn peut g√©n√©raliser les comparaisons pour obtenir des vecteurs:\n\nc(2, 4, 6, 8, 10, 1, 3) %% 2 == 0\n\n[1]  TRUE  TRUE  TRUE  TRUE  TRUE FALSE FALSE\n\n\nOn obtient TRUE pour les nombres pairs, FALSE pour les impairs.\nUtiliser des vecteurs logiques nous permettra, au quotidien, s√©lectionner des donn√©es. Par exemple si on a des donn√©es d‚Äô√¢ge, on peut ne vouloir garder que les pr√©noms des adultes. Cela pourra √™tre fait sur le mod√®le suivant:\n\nc('Pierre', 'Paul', 'Fran√ßois', 'et les autres')[\n    c(25, 3, 61, 17) &gt;= 18\n]\n\n[1] \"Pierre\"   \"Fran√ßois\"\n\n\nN√©anmoins nous verrons dans les prochains chapitres comment int√©grer ce principe dans une s√©quence plus g√©n√©rale d‚Äôop√©rations gr√¢ce au package dplyr."
  },
  {
    "objectID": "exercises/r-base.html#factors",
    "href": "exercises/r-base.html#factors",
    "title": "D√©couverte des objets de base de ",
    "section": "2.4 Les facteurs (factors)",
    "text": "2.4 Les facteurs (factors)\nLes facteurs (factors) sont utilis√©s pour repr√©senter des variables cat√©gorielles, c‚Äôest-√†-dire des variables qui prennent un nombre fini et pr√©d√©termin√© de niveaux ou de cat√©gories.\nPour convertir un vecteur num√©rique ou textuel en vecteur, on utilise la fonction factor:\n\nfactor(\n    c(\"capitale\",\"pr√©fecture\",\"sous-pr√©fecture\",\"pr√©fecture\")\n)\n\n[1] capitale        pr√©fecture      sous-pr√©fecture pr√©fecture     \nLevels: capitale pr√©fecture sous-pr√©fecture\n\nfactor(c(1,10,3))\n\n[1] 1  10 3 \nLevels: 1 3 10\n\n\nLes niveaux d‚Äôun facteur sont les diff√©rentes cat√©gories ou valeurs possibles que la variable peut prendre. On peut les lister avec la fonction levels\n\nlevels(\n    factor(\n        c(\"capitale\",\"pr√©fecture\",\"sous-pr√©fecture\",\"pr√©fecture\")\n    )\n)\n\n[1] \"capitale\"        \"pr√©fecture\"      \"sous-pr√©fecture\"\n\n\nOn peut aussi ordonner ces niveaux si cela a un sens lors de la d√©finition du facteur. Cela implique n√©anmoins de conna√Ætre, a priori nos diff√©rents niveaux et les renseigner √†  dans l‚Äôordre:\n\nfactor(\n    c(\"capitale\",\"pr√©fecture\",\"sous-pr√©fecture\",\"pr√©fecture\"),\n    levels = c(\"capitale\",\"pr√©fecture\",\"sous-pr√©fecture\"),\n    ordered = TRUE\n)\n\n[1] capitale        pr√©fecture      sous-pr√©fecture pr√©fecture     \nLevels: capitale &lt; pr√©fecture &lt; sous-pr√©fecture"
  },
  {
    "objectID": "exercises/r-base.html#les-matrices",
    "href": "exercises/r-base.html#les-matrices",
    "title": "D√©couverte des objets de base de ",
    "section": "7.1 Les matrices",
    "text": "7.1 Les matrices\nLes matrices peuvent √™tre vues comme le prolongement en deux dimensions des vecteurs. Au lieu d‚Äôavoir des donn√©es sur une seule dimension, on empile des colonnes c√¥te √† c√¥te.\n\\[\nX = \\begin{bmatrix}\nx_{11} & x_{12} \\\\\nx_{21} & x_{22} \\\\\n\\end{bmatrix}\n\\]\nN√©anmoins, les matrices pr√©sentent une limite fondamentale: on ne peut stocker dans une matrice que des √©l√©ments de m√™me type. Autrement dit, on aura exclusivement des matrices num√©riques, des matrices de caract√®res ou des matrices logiques. Il est impossible de construire une matrice dont certaines variables sont de type num√©rique (par exemple l‚Äô√¢ge des personnes enqu√™t√©es) et d‚Äôautres de type caract√®re (par exemple leur secteur d‚Äôactivit√©).\nLes matrices ne constituent donc pas un type d‚Äôobjet susceptible de stocker l‚Äôinformation statistique habituellement mobilis√©e dans les enqu√™tes sociales. Le mix des types n‚Äôest pas pratique, c‚Äôest pour cette raison que les praticiens de l‚Äôanalyse de donn√©es les utilisent peu3.\nOn propose donc un exercice sur les matrices mais on va rapidement passer √† des types plus flexibles, plus utiles pour l‚Äôanalyse de donn√©es o√π les variables sont de type diverses.\n\n\n\n\n\n\nExercice 7\n\n\n\nSoit une matrice:\n\nX &lt;- matrix(letters[1:20], nrow = 4, ncol = 5)\n\n\n\nSolution\nX[1,1]\n2X[1,]\n3X[,1]\n4X[2:3,c(1,3)]\n\n\n\n1\n\nS√©lectionner l‚Äô√©lement le plus √† gauche de notre matrice (premi√®re ligne, premi√®re colonne)\n\n2\n\nS√©lectionner l‚Äôensemble de la premi√®re ligne\n\n3\n\nS√©lectionner l‚Äôensemble de la premi√®re colonne\n\n4\n\nS√©lectionner les √©l√©ments √† l‚Äôintersection :\n\n\n\n\n\n\nIndice si vous √™tes bloqu√©s\n\nAvec un vecteur, on acc√©dait aux positions d‚Äôun √©l√©ment avec X[*]. Avec les matrices le principe est le m√™me mais on ajoute une dimension X[*,*]"
  },
  {
    "objectID": "exercises/r-base.html#les-listes",
    "href": "exercises/r-base.html#les-listes",
    "title": "D√©couverte des objets de base de ",
    "section": "7.2 Les listes",
    "text": "7.2 Les listes\nLes listes constituent un type d‚Äôobjet beaucoup plus riche qui permet pr√©cis√©ment de rassembler des types d‚Äôobjets tr√®s diff√©rents : une liste peut contenir tous les types d‚Äôobjet (vecteurs num√©riques, caract√®res, logiques, matrices, etc.), y compris d‚Äôautres listes.\nCette tr√®s grande souplesse fait de la liste l‚Äôobjet de pr√©dilection pour stocker une information complexe et structur√©e, en particulier les r√©sultats de proc√©dures statistiques complexes (r√©gression, classification, etc.). Pour des donn√©es plus structur√©es, comme le sont les jeux de donn√©es, nous allons voir ensuite que nous allons utiliser un type sp√©cial de liste: le dataframe.\n\n\n\nProposition d‚Äôillustration du principe des listes avec R par Dall-E-2\n\n\n\n\n\n\n\n\nExercice 8\n\n\n\nVoici une liste illustrant le principe de stockage de donn√©es h√©t√©rog√®nes dans un m√™me objet:\n\nma_liste &lt;- list(\n    1,\n    \"texte\",\n    matrix(letters[1:20], nrow = 4, ncol = 5),\n    c(2, 3, 4)\n)\n\n\nAfficher la liste et observer la diff√©rence avec l‚Äôaffichage des objets pr√©c√©dents\nUtiliser la notation [[]] pour acc√©der au 2e √©l√©ment de notre liste pour au 2e nombre au sein du dernier √©l√©ment de notre matrice\nOn peut utiliser des noms pour les √©l√©ments de notre liste (c‚Äôest d‚Äôailleurs une bonne pratique). Cr√©er un √©l√©ment nomm√© communes dans votre liste stockant les donn√©es suivantes c('01363', '02644', '03137', '11311')\nCr√©er un √©l√©ment departements en extrayant les deux premiers chiffres de votre √©l√©ment communes\n\n\n\nSolution\n#Question 1: afficher la liste\nma_liste\n# Question 2: Acc√©der au deuxi√®me √©l√©ment de la liste\nma_liste[[2]]\nma_liste[[4]][2]\n# Question 3: mettre √† jour la liste avec un √©l√©ment nomm√© et y acc√©der\nma_liste[['communes']] &lt;- c(\n  '01363', '02644', '03137', '11311'\n  )\nma_liste[['communes']]  \n# Question 4: effectuer une op√©ration \nma_liste[['departements']] &lt;- substr(ma_liste[['communes']] , start = 1, stop = 2)\n\n\n\n\nLorsqu‚Äôon utilise des listes, on peut effectuer des op√©rations sur chaque √©l√©ment de notre liste. On appelle cela boucler sur notre liste.\n\n\n\n\n\n\n\nExercice 9\n\n\n\nDans cet exercice, nous allons d√©couvrir comment appliquer la m√™me fonction aux √©l√©ments de notre liste gr√¢ce √† lapply.\n\nAvant cela, combien d‚Äô√©l√©ments comporte le premier niveau de notre liste ?\nCombien d‚Äô√©l√©ments comportent chaque niveaux de notre liste ?\nCr√©er un vecteur num√©rique qui est √©gal √† 1 si typeof de l‚Äô√©l√©ment est ‚Äúdouble‚Äù et 0 sinon\n\n\n\nSolution\n# Question 1\nlongueur_liste &lt;- length(ma_liste)\n# Question 2\nlapply(ma_liste, length)\nas.numeric(\n    lapply(ma_liste, function(l) typeof(l) == \"double\")\n)\n\n\n\n\nSi ?lapply ne vous aide pas\n\nExemple d‚Äôutilisation de lapply pour faire la somme dans chaque √©l√©ment de notre liste\n\nma_liste_nombres &lt;- list(c(1,2), seq(1,10))\nlapply(ma_liste_nombres, sum)\n\n[[1]]\n[1] 3\n\n[[2]]\n[1] 55"
  },
  {
    "objectID": "exercises/r-base.html#les-dataframes",
    "href": "exercises/r-base.html#les-dataframes",
    "title": "D√©couverte des objets de base de ",
    "section": "7.3 Les dataframes",
    "text": "7.3 Les dataframes\nC‚Äôest l‚Äôobjet central de l‚Äôanalyse de donn√©es avec . Ces objets permettent en effet de repr√©senter sous la forme d‚Äôune table (i.e.¬†d‚Äôun objet √† deux dimensions) des donn√©es de nature tant quantitatives (variables num√©riques) que qualitatives (variables de type caract√®re ou facteur).\n\n\n\nIllustration du principe du dataframe (emprunt√©e √† H. Wickham)\n\n\nVoici par exemple un dataframe:\n\n# Cr√©ation du data.frame df\ndf &lt;- data.frame(\n  var1 = 1:10,\n  var2 = letters[1:10],\n  var3 = rep(c(TRUE, FALSE), times = 5)\n)\n\nSa structure interne peut √™tre v√©rifi√©e avec la fonction str:\n\nstr(df)\n\n'data.frame':   10 obs. of  3 variables:\n $ var1: int  1 2 3 4 5 6 7 8 9 10\n $ var2: chr  \"a\" \"b\" \"c\" \"d\" ...\n $ var3: logi  TRUE FALSE TRUE FALSE TRUE FALSE ...\n\n\nQuand on travaille avec R, l‚Äôune des fonctions qu‚Äôon utilise le plus est head. Elle permet d‚Äôafficher les \\(n\\) premi√®res lignes de notre jeu de donn√©es:\n\nhead(df)\n\n  var1 var2  var3\n1    1    a  TRUE\n2    2    b FALSE\n3    3    c  TRUE\n4    4    d FALSE\n5    5    e  TRUE\n6    6    f FALSE\n\n\n\n\n\n\n\n\nWarning\n\n\n\nIl est √©galement possible d‚Äôutiliser le viewer de RStudio pour afficher des jeux de donn√©es.\nAttention cependant, ce viewer peut rencontrer des probl√®mes de performance et faire planter votre session R quand le jeu de donn√©es commence √† √™tre d‚Äôune taille cons√©quente.\nJe recommande plut√¥t de toucher utiliser head ou de s√©lectionner des lignes al√©atoirement avec sample:\n\ndf[sample(nrow(df), 3), ]\n\n   var1 var2  var3\n10   10    j FALSE\n3     3    c  TRUE\n4     4    d FALSE\n\n\n\n\nDu point de vue de sa structure, un data.frame est en r√©alit√© une liste dont tous les √©l√©ments ont la m√™me longueur : c‚Äôest ce qui permet de le repr√©senter sous la forme d‚Äôun tableau √† deux dimensions.\n\nis.list(df)\n\n[1] TRUE\n\nlapply(df, length)\n\n$var1\n[1] 10\n\n$var2\n[1] 10\n\n$var3\n[1] 10\n\n\nDe ce fait, les data.frame empruntent leurs caract√©ristiques tant√¥t aux listes, tant√¥t aux matrices comme le montre l‚Äôexercice suivant:\n\n\n\n\n\n\nExercice 10\n\n\n\n\nV√©rifier la dimension du dataframe df\nCompter le nombre de lignes et de colonnes de df\nV√©rifier la longueur (length) de df. Est-ce le comportement d‚Äôune matrice ou d‚Äôune liste ?\nExtraire l‚Äô√©lement √† la 2e ligne, 3e colonne de df. Est-ce le comportement d‚Äôindexation d‚Äôune matrice ou d‚Äôune liste ?\nR√©cup√©rer la 3e ligne des variables var1 et var2.\n\n\n\nSolution\ndim(df)\nnrow(df)\nncol(df)\nlength(df) #comme une liste\ndf[3, c(\"var1\",\"var2\")]\n\n\n\n\nL‚Äôint√©r√™t d‚Äôutiliser un data.frame est qu‚Äôon peut facilement mettre √† jour nos donn√©es lors d‚Äôune analyse statistique. Les op√©rations les plus classiques, sur lesquelles nous reviendrons lors du prochain chapitre, sont\n\nCr√©er une nouvelle colonne √† partir des colonnes pr√©-existantes ;\nS√©lectionner un sous-√©chantillon des donn√©es correspondant √† certaines valeurs observ√©es.\n\nIl existe plusieurs mani√®res de faire r√©f√©rence √† une colonne d√©j√† existante d‚Äôun dataframe. La plus simple est d‚Äôutiliser la structure dataframe$colonne. Cela nous donnera un vecteur et on retombe sur ce format qu‚Äôon conna√Æt d√©j√†:\n\nclass(df$var1)\n\n[1] \"integer\"\n\n\n\n\n\n\n\n\nExercice 11\n\n\n\n\nCr√©er une colonne var4 de notre jeu de donn√©es √©gale au carr√© de var1\nCr√©er une colonne var5 de notre jeu de donn√©es concat√©nant les deux premi√®res variables en g√©n√©ralisant le sch√©ma 1=a.\nCr√©er un dataframe df_small1 pour les lignes o√π la condition logique var3 est v√©rifi√©e\nCr√©er un dataframe df_small2 pour les lignes o√π var1 est paire (voir plus haut l‚Äôexemple sur la division euclidienne pour le mod√®le)\n\n\n\nLe prochain chapitre va nous permettre d‚Äôaller beaucoup plus loin gr√¢ce √† l‚Äô√©cosyst√®me du tidyverse et notamment son package phare dplyr. Sans cet ensemble de packages facilitant grandement l‚Äôanalyse statistique,  ne serait pas devenu l‚Äôun des deux langages phares de la statistique."
  },
  {
    "objectID": "exercises/r-base.html#footnotes",
    "href": "exercises/r-base.html#footnotes",
    "title": "D√©couverte des objets de base de ",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nPour installer soi-m√™me RStudio, les instructions sont ici. N√©anmoins, dans le cadre de ce cours, vous n‚Äôaurez pas besoin de faire l‚Äôinstallation, nous allons utiliser une infrastructure pr√©configur√©e. De cette mani√®re, nous aurons acc√®s au m√™me environnement.‚Ü©Ô∏é\nCette remarque peut para√Ætre triviale mais, en informatique, elle ne l‚Äôest pas. Beaucoup de langages (Python, C) ont une indexation qui commence √† 0, comme c‚Äôest la convention en alg√®bre. Cela signifie que le premier √©l√©ment a un indice 0, le deuxi√®me indice 1 et le dernier un indice \\(n-1\\).‚Ü©Ô∏é\nL‚Äôobjet matrice sera surtout utilis√© par les les chercheurs en statistique math√©matique ou les sp√©cialistes d‚Äôalgorithmique qui manipuleront des objets num√©riques bas niveau.‚Ü©Ô∏é"
  }
]